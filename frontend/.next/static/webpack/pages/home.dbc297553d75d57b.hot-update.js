/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/home",{

/***/ "./src/components/home/TodayTaskList.tsx":
/*!***********************************************!*\
  !*** ./src/components/home/TodayTaskList.tsx ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js\");\n/* harmony import */ var _tasks_TaskCard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tasks/TaskCard */ \"./src/components/tasks/TaskCard.tsx\");\n/* harmony import */ var swr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! swr */ \"./node_modules/swr/dist/index.mjs\");\n/* harmony import */ var _pages_EmailContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../pages/EmailContext */ \"./src/pages/EmailContext.tsx\");\n/* harmony import */ var react_swipeable_list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-swipeable-list */ \"./node_modules/react-swipeable-list/dist/react-swipeable-list.umd.js\");\n/* harmony import */ var react_swipeable_list__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_swipeable_list__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_swipeable_list_dist_styles_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-swipeable-list/dist/styles.css */ \"./node_modules/react-swipeable-list/dist/styles.css\");\n/* harmony import */ var react_swipeable_list_dist_styles_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_swipeable_list_dist_styles_css__WEBPACK_IMPORTED_MODULE_6__);\nvar _this = undefined;\n\n\n\n\n\n\n\n\nvar _s = $RefreshSig$();\nvar TodayTaskList = function() {\n    var _this1 = _this;\n    _s();\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), showAllTask = ref[0], setshowAllTask = ref[1];\n    var showAll = function() {\n        setshowAllTask(!showAllTask);\n    };\n    //fetch all existing unfinished tasks for the user\n    var email = (0,_pages_EmailContext__WEBPACK_IMPORTED_MODULE_4__.useEmailContext)().email;\n    // const SHOW_TASK_URL = process.env.SERVERPORT + \"/task/email/\" + email;\n    var SHOW_TASK_URL = \"http://localhost:2000/task/email/\" + email;\n    var fetcher = function(url) {\n        return fetch(url).then(function(res) {\n            return res.json();\n        });\n    };\n    var ref1 = (0,swr__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(SHOW_TASK_URL, fetcher), data = ref1.data, error = ref1.error;\n    // console.log(\"data = \" + JSON.stringify(data.tasks));\n    if (error) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Alert, {\n        status: \"error\",\n        marginTop: \"3%\",\n        padding: \"12px\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.AlertIcon, {}, void 0, false, {\n                fileName: \"/Users/fengyuwangbv/Desktop/studyApp/studyAppWeb/frontend/src/components/home/TodayTaskList.tsx\",\n                lineNumber: 43,\n                columnNumber: 9\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Text, {\n                fontSize: \"sm\",\n                children: \"Failed to fetch your tasks\"\n            }, void 0, false, {\n                fileName: \"/Users/fengyuwangbv/Desktop/studyApp/studyAppWeb/frontend/src/components/home/TodayTaskList.tsx\",\n                lineNumber: 44,\n                columnNumber: 9\n            }, _this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/fengyuwangbv/Desktop/studyApp/studyAppWeb/frontend/src/components/home/TodayTaskList.tsx\",\n        lineNumber: 42,\n        columnNumber: 7\n    }, _this);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Stack, {\n        spacing: 4,\n        align: \"stretch\",\n        marginTop: \"3\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_swipeable_list__WEBPACK_IMPORTED_MODULE_5__.SwipeableList, {}, void 0, false, {\n                fileName: \"/Users/fengyuwangbv/Desktop/studyApp/studyAppWeb/frontend/src/components/home/TodayTaskList.tsx\",\n                lineNumber: 50,\n                columnNumber: 7\n            }, _this),\n            data && data.tasks.filter(function(item, index) {\n                var endIndex = showAllTask ? data.tasks.length : 3;\n                return index < endIndex;\n            }).map(function(task, index) {\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tasks_TaskCard__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    task: task\n                }, index, false, {\n                    fileName: \"/Users/fengyuwangbv/Desktop/studyApp/studyAppWeb/frontend/src/components/home/TodayTaskList.tsx\",\n                    lineNumber: 58,\n                    columnNumber: 13\n                }, _this1);\n            }),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.Button, {\n                bg: \"none\",\n                marginTop: \"0 !important\",\n                _hover: {\n                    bg: \"none\"\n                },\n                _active: {\n                    bg: \"none\"\n                },\n                color: \"#2B6CB0\",\n                fontWeight: \"600\",\n                onClick: showAll,\n                children: showAllTask ? \"Hide\" : \"Show All\"\n            }, void 0, false, {\n                fileName: \"/Users/fengyuwangbv/Desktop/studyApp/studyAppWeb/frontend/src/components/home/TodayTaskList.tsx\",\n                lineNumber: 60,\n                columnNumber: 7\n            }, _this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/fengyuwangbv/Desktop/studyApp/studyAppWeb/frontend/src/components/home/TodayTaskList.tsx\",\n        lineNumber: 49,\n        columnNumber: 5\n    }, _this);\n};\n_s(TodayTaskList, \"tHpaAUEyxrhkimRfjQLb40/Sc7o=\", false, function() {\n    return [\n        _pages_EmailContext__WEBPACK_IMPORTED_MODULE_4__.useEmailContext,\n        swr__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n    ];\n});\n_c = TodayTaskList;\n/* harmony default export */ __webpack_exports__[\"default\"] = (TodayTaskList);\nvar _c;\n$RefreshReg$(_c, \"TodayTaskList\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ob21lL1RvZGF5VGFza0xpc3QudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFBbUQ7QUFTekI7QUFDZTtBQUNoQjtBQUNrQztBQVE3QjtBQUNnQjs7QUFFOUMsSUFBTVcsYUFBYSxHQUFHLFdBQU07OztJQUMxQixJQUFzQ1YsR0FBZSxHQUFmQSwrQ0FBUSxDQUFDLEtBQUssQ0FBQyxFQXhCdkQsV0F3Qm9CLEdBQW9CQSxHQUFlLEdBQW5DLEVBeEJwQixjQXdCb0MsR0FBSUEsR0FBZSxHQUFuQjtJQUNsQyxJQUFNYSxPQUFPLEdBQUcsV0FBTTtRQUNwQkQsY0FBYyxDQUFDLENBQUNELFdBQVcsQ0FBQyxDQUFDO0tBQzlCO0lBRUQsa0RBQWtEO0lBQ2xELElBQU0sS0FBTyxHQUFLSCxvRUFBZSxFQUFFLENBQTNCTSxLQUFLO0lBQ2IseUVBQXlFO0lBQ3pFLElBQU1DLGFBQWEsR0FBR0MsbUNBQXlCLEdBQUdGLEtBQUs7SUFFdkQsSUFBTUssT0FBTyxHQUFHLFNBQUNDLEdBQVc7ZUFBS0MsS0FBSyxDQUFDRCxHQUFHLENBQUMsQ0FBQ0UsSUFBSSxDQUFDLFNBQUNDLEdBQUc7bUJBQUtBLEdBQUcsQ0FBQ0MsSUFBSSxFQUFFO1NBQUEsQ0FBQztLQUFBO0lBQ3JFLElBQXdCakIsSUFBOEIsR0FBOUJBLCtDQUFNLENBQUNRLGFBQWEsRUFBRUksT0FBTyxDQUFDLEVBQTlDTSxJQUFJLEdBQVlsQixJQUE4QixDQUE5Q2tCLElBQUksRUFBRUMsS0FBSyxHQUFLbkIsSUFBOEIsQ0FBeENtQixLQUFLO0lBRW5CLHVEQUF1RDtJQUV2RCxJQUFJQSxLQUFLLEVBQ1AscUJBQ0UsOERBQUN6QixtREFBSztRQUFDMEIsTUFBTSxFQUFDLE9BQU87UUFBQ0MsU0FBUyxFQUFDLElBQUk7UUFBQ0MsT0FBTyxFQUFDLE1BQU07OzBCQUNqRCw4REFBQzNCLHVEQUFTOzs7O3FCQUFHOzBCQUNiLDhEQUFDRyxrREFBSTtnQkFBQ3lCLFFBQVEsRUFBQyxJQUFJOzBCQUFDLDRCQUEwQjs7Ozs7cUJBQU87Ozs7OzthQUMvQyxDQUNSO0lBRUoscUJBQ0UsOERBQUMxQixtREFBSztRQUFDMkIsT0FBTyxFQUFFLENBQUM7UUFBRUMsS0FBSyxFQUFDLFNBQVM7UUFBQ0osU0FBUyxFQUFDLEdBQUc7OzBCQUM5Qyw4REFBQ25CLCtEQUFhOzs7O3FCQUFpQjtZQUM5QmdCLElBQUksSUFDSEEsSUFBSSxDQUFDUSxLQUFLLENBQ1BDLE1BQU0sQ0FBQyxTQUFDQyxJQUFvQixFQUFFQyxLQUFhLEVBQUs7Z0JBQy9DLElBQU1DLFFBQVEsR0FBVzFCLFdBQVcsR0FBR2MsSUFBSSxDQUFDUSxLQUFLLENBQUNLLE1BQU0sR0FBRyxDQUFDO2dCQUM1RCxPQUFPRixLQUFLLEdBQUdDLFFBQVEsQ0FBQzthQUN6QixDQUFDLENBQ0RFLEdBQUcsQ0FBQyxTQUFDQyxJQUFvQixFQUFFSixLQUFhO3FDQUN2Qyw4REFBQzlCLHVEQUFRO29CQUFDa0MsSUFBSSxFQUFFQSxJQUFJO21CQUFPSixLQUFLOzs7OzBCQUFJO2FBQ3JDLENBQUM7MEJBQ04sOERBQUNqQyxvREFBTTtnQkFDTHNDLEVBQUUsRUFBQyxNQUFNO2dCQUNUYixTQUFTLEVBQUMsY0FBYztnQkFDeEJjLE1BQU0sRUFBRTtvQkFBRUQsRUFBRSxFQUFFLE1BQU07aUJBQUU7Z0JBQ3RCRSxPQUFPLEVBQUU7b0JBQUVGLEVBQUUsRUFBRSxNQUFNO2lCQUFFO2dCQUN2QkcsS0FBSyxFQUFDLFNBQVM7Z0JBQ2ZDLFVBQVUsRUFBQyxLQUFLO2dCQUNoQkMsT0FBTyxFQUFFakMsT0FBTzswQkFFZkYsV0FBVyxHQUFHLE1BQU0sR0FBRyxVQUFVOzs7OztxQkFDM0I7Ozs7OzthQUNILENBQ1I7Q0FDSDtHQWpES0QsYUFBYTs7UUFPQ0YsZ0VBQWU7UUFLVEQsMkNBQU07OztBQVoxQkcsS0FBQUEsYUFBYTtBQW1EbkIsK0RBQWVBLGFBQWEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9ob21lL1RvZGF5VGFza0xpc3QudHN4P2JmMDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIEFsZXJ0LFxuICBBbGVydEljb24sXG4gIEJveCxcbiAgQnV0dG9uLFxuICBGbGV4LFxuICBTdGFjayxcbiAgVGV4dCxcbn0gZnJvbSBcIkBjaGFrcmEtdWkvcmVhY3RcIjtcbmltcG9ydCBUYXNrQ2FyZCBmcm9tIFwiLi4vdGFza3MvVGFza0NhcmRcIjtcbmltcG9ydCB1c2VTV1IgZnJvbSBcInN3clwiO1xuaW1wb3J0IHsgdXNlRW1haWxDb250ZXh0IH0gZnJvbSBcIi4uLy4uL3BhZ2VzL0VtYWlsQ29udGV4dFwiO1xuaW1wb3J0IHsgVGFza0Zvcm1WYWx1ZXMgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7XG4gIExlYWRpbmdBY3Rpb25zLFxuICBTd2lwZWFibGVMaXN0LFxuICBTd2lwZWFibGVMaXN0SXRlbSxcbiAgU3dpcGVBY3Rpb24sXG4gIFRyYWlsaW5nQWN0aW9ucyxcbn0gZnJvbSAncmVhY3Qtc3dpcGVhYmxlLWxpc3QnO1xuaW1wb3J0ICdyZWFjdC1zd2lwZWFibGUtbGlzdC9kaXN0L3N0eWxlcy5jc3MnO1xuXG5jb25zdCBUb2RheVRhc2tMaXN0ID0gKCkgPT4ge1xuICBjb25zdCBbc2hvd0FsbFRhc2ssIHNldHNob3dBbGxUYXNrXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3Qgc2hvd0FsbCA9ICgpID0+IHtcbiAgICBzZXRzaG93QWxsVGFzayghc2hvd0FsbFRhc2spO1xuICB9O1xuXG4gIC8vZmV0Y2ggYWxsIGV4aXN0aW5nIHVuZmluaXNoZWQgdGFza3MgZm9yIHRoZSB1c2VyXG4gIGNvbnN0IHsgZW1haWwgfSA9IHVzZUVtYWlsQ29udGV4dCgpO1xuICAvLyBjb25zdCBTSE9XX1RBU0tfVVJMID0gcHJvY2Vzcy5lbnYuU0VSVkVSUE9SVCArIFwiL3Rhc2svZW1haWwvXCIgKyBlbWFpbDtcbiAgY29uc3QgU0hPV19UQVNLX1VSTCA9IHByb2Nlc3MuZW52LkdFVF9UQVNLU19VUkwgKyBlbWFpbDtcblxuICBjb25zdCBmZXRjaGVyID0gKHVybDogc3RyaW5nKSA9PiBmZXRjaCh1cmwpLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSk7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IHVzZVNXUihTSE9XX1RBU0tfVVJMLCBmZXRjaGVyKTtcblxuICAvLyBjb25zb2xlLmxvZyhcImRhdGEgPSBcIiArIEpTT04uc3RyaW5naWZ5KGRhdGEudGFza3MpKTtcblxuICBpZiAoZXJyb3IpXG4gICAgcmV0dXJuIChcbiAgICAgIDxBbGVydCBzdGF0dXM9XCJlcnJvclwiIG1hcmdpblRvcD1cIjMlXCIgcGFkZGluZz1cIjEycHhcIj5cbiAgICAgICAgPEFsZXJ0SWNvbiAvPlxuICAgICAgICA8VGV4dCBmb250U2l6ZT1cInNtXCI+RmFpbGVkIHRvIGZldGNoIHlvdXIgdGFza3M8L1RleHQ+XG4gICAgICA8L0FsZXJ0PlxuICAgICk7XG5cbiAgcmV0dXJuIChcbiAgICA8U3RhY2sgc3BhY2luZz17NH0gYWxpZ249XCJzdHJldGNoXCIgbWFyZ2luVG9wPVwiM1wiPlxuICAgICAgPFN3aXBlYWJsZUxpc3Q+PC9Td2lwZWFibGVMaXN0PlxuICAgICAge2RhdGEgJiZcbiAgICAgICAgZGF0YS50YXNrc1xuICAgICAgICAgIC5maWx0ZXIoKGl0ZW06IFRhc2tGb3JtVmFsdWVzLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbmRJbmRleDogbnVtYmVyID0gc2hvd0FsbFRhc2sgPyBkYXRhLnRhc2tzLmxlbmd0aCA6IDM7XG4gICAgICAgICAgICByZXR1cm4gaW5kZXggPCBlbmRJbmRleDtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5tYXAoKHRhc2s6IFRhc2tGb3JtVmFsdWVzLCBpbmRleDogbnVtYmVyKSA9PiAoXG4gICAgICAgICAgICA8VGFza0NhcmQgdGFzaz17dGFza30ga2V5PXtpbmRleH0gLz5cbiAgICAgICAgICApKX1cbiAgICAgIDxCdXR0b25cbiAgICAgICAgYmc9XCJub25lXCJcbiAgICAgICAgbWFyZ2luVG9wPVwiMCAhaW1wb3J0YW50XCJcbiAgICAgICAgX2hvdmVyPXt7IGJnOiBcIm5vbmVcIiB9fVxuICAgICAgICBfYWN0aXZlPXt7IGJnOiBcIm5vbmVcIiB9fVxuICAgICAgICBjb2xvcj1cIiMyQjZDQjBcIlxuICAgICAgICBmb250V2VpZ2h0PVwiNjAwXCJcbiAgICAgICAgb25DbGljaz17c2hvd0FsbH1cbiAgICAgID5cbiAgICAgICAge3Nob3dBbGxUYXNrID8gXCJIaWRlXCIgOiBcIlNob3cgQWxsXCJ9XG4gICAgICA8L0J1dHRvbj5cbiAgICA8L1N0YWNrPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVG9kYXlUYXNrTGlzdDtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwiQWxlcnQiLCJBbGVydEljb24iLCJCdXR0b24iLCJTdGFjayIsIlRleHQiLCJUYXNrQ2FyZCIsInVzZVNXUiIsInVzZUVtYWlsQ29udGV4dCIsIlN3aXBlYWJsZUxpc3QiLCJUb2RheVRhc2tMaXN0Iiwic2hvd0FsbFRhc2siLCJzZXRzaG93QWxsVGFzayIsInNob3dBbGwiLCJlbWFpbCIsIlNIT1dfVEFTS19VUkwiLCJwcm9jZXNzIiwiZW52IiwiR0VUX1RBU0tTX1VSTCIsImZldGNoZXIiLCJ1cmwiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJqc29uIiwiZGF0YSIsImVycm9yIiwic3RhdHVzIiwibWFyZ2luVG9wIiwicGFkZGluZyIsImZvbnRTaXplIiwic3BhY2luZyIsImFsaWduIiwidGFza3MiLCJmaWx0ZXIiLCJpdGVtIiwiaW5kZXgiLCJlbmRJbmRleCIsImxlbmd0aCIsIm1hcCIsInRhc2siLCJiZyIsIl9ob3ZlciIsIl9hY3RpdmUiLCJjb2xvciIsImZvbnRXZWlnaHQiLCJvbkNsaWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/home/TodayTaskList.tsx\n");

/***/ }),

/***/ "./node_modules/react-swipeable-list/dist/react-swipeable-list.umd.js":
/*!****************************************************************************!*\
  !*** ./node_modules/react-swipeable-list/dist/react-swipeable-list.umd.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("(function (global, factory) {\n   true ? factory(exports, __webpack_require__(/*! react */ \"./node_modules/react/index.js\"), __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\")) :\n  0;\n})(this, (function (exports, React, PropTypes) { 'use strict';\n\n  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\n  var React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n  var PropTypes__default = /*#__PURE__*/_interopDefaultLegacy(PropTypes);\n\n  var LeadingActions = function LeadingActions(_ref) {\n    var children = _ref.children;\n\n    if (children === null || children === undefined) {\n      return null;\n    }\n\n    if (Array.isArray(children)) {\n      return React__default[\"default\"].Children.map(children, function (child, index) {\n        return /*#__PURE__*/React__default[\"default\"].cloneElement(child, {\n          leading: true,\n          main: index === 0\n        });\n      });\n    }\n\n    return /*#__PURE__*/React__default[\"default\"].cloneElement(children, {\n      leading: true,\n      main: true\n    });\n  };\n\n  function toVal(mix) {\n  \tvar k, y, str='';\n\n  \tif (typeof mix === 'string' || typeof mix === 'number') {\n  \t\tstr += mix;\n  \t} else if (typeof mix === 'object') {\n  \t\tif (Array.isArray(mix)) {\n  \t\t\tfor (k=0; k < mix.length; k++) {\n  \t\t\t\tif (mix[k]) {\n  \t\t\t\t\tif (y = toVal(mix[k])) {\n  \t\t\t\t\t\tstr && (str += ' ');\n  \t\t\t\t\t\tstr += y;\n  \t\t\t\t\t}\n  \t\t\t\t}\n  \t\t\t}\n  \t\t} else {\n  \t\t\tfor (k in mix) {\n  \t\t\t\tif (mix[k]) {\n  \t\t\t\t\tstr && (str += ' ');\n  \t\t\t\t\tstr += k;\n  \t\t\t\t}\n  \t\t\t}\n  \t\t}\n  \t}\n\n  \treturn str;\n  }\n\n  function clsx () {\n  \tvar i=0, tmp, x, str='';\n  \twhile (i < arguments.length) {\n  \t\tif (tmp = arguments[i++]) {\n  \t\t\tif (x = toVal(tmp)) {\n  \t\t\t\tstr && (str += ' ');\n  \t\t\t\tstr += x;\n  \t\t\t}\n  \t\t}\n  \t}\n  \treturn str;\n  }\n\n  var Type = {\n    ANDROID: Symbol('ANDROID'),\n    IOS: Symbol('IOS'),\n    MS: Symbol('MS')\n  };\n\n  var SwipeableList = function SwipeableList(_ref) {\n    var children = _ref.children,\n        _ref$className = _ref.className,\n        className = _ref$className === void 0 ? '' : _ref$className,\n        _ref$fullSwipe = _ref.fullSwipe,\n        fullSwipe = _ref$fullSwipe === void 0 ? false : _ref$fullSwipe,\n        _ref$destructiveCallb = _ref.destructiveCallbackDelay,\n        destructiveCallbackDelay = _ref$destructiveCallb === void 0 ? 1000 : _ref$destructiveCallb,\n        style = _ref.style,\n        _ref$type = _ref.type,\n        type = _ref$type === void 0 ? Type.ANDROID : _ref$type,\n        _ref$Tag = _ref.Tag,\n        Tag = _ref$Tag === void 0 ? 'div' : _ref$Tag,\n        scrollStartThreshold = _ref.scrollStartThreshold,\n        swipeStartThreshold = _ref.swipeStartThreshold,\n        _ref$threshold = _ref.threshold,\n        threshold = _ref$threshold === void 0 ? 0.5 : _ref$threshold;\n    return /*#__PURE__*/React__default[\"default\"].createElement(Tag, {\n      className: clsx('swipeable-list', className),\n      style: style\n    }, React__default[\"default\"].Children.map(children, function (child) {\n      return /*#__PURE__*/React__default[\"default\"].cloneElement(child, {\n        destructiveCallbackDelay: destructiveCallbackDelay,\n        fullSwipe: fullSwipe,\n        listType: type,\n        scrollStartThreshold: scrollStartThreshold,\n        swipeStartThreshold: swipeStartThreshold,\n        threshold: threshold\n      });\n    }));\n  };\n\n  SwipeableList.propTypes = {\n    children: PropTypes__default[\"default\"].node,\n    className: PropTypes__default[\"default\"].string,\n    fullSwipe: PropTypes__default[\"default\"].bool,\n    destructiveCallbackDelay: PropTypes__default[\"default\"].number,\n    style: PropTypes__default[\"default\"].object,\n    type: PropTypes__default[\"default\"].oneOf(Object.values(Type)),\n    Tag: PropTypes__default[\"default\"].string,\n    scrollStartThreshold: PropTypes__default[\"default\"].number,\n    swipeStartThreshold: PropTypes__default[\"default\"].number,\n    threshold: PropTypes__default[\"default\"].number\n  };\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    Object.defineProperty(subClass, \"prototype\", {\n      value: Object.create(superClass && superClass.prototype, {\n        constructor: {\n          value: subClass,\n          writable: true,\n          configurable: true\n        }\n      }),\n      writable: false\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    } else if (call !== void 0) {\n      throw new TypeError(\"Derived constructors may only return object or undefined\");\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  var ItemContext = /*#__PURE__*/React__default[\"default\"].createContext();\n  var ActionAnimation = {\n    RETURN: Symbol('Return'),\n    REMOVE: Symbol('Remove'),\n    NONE: Symbol('None')\n  };\n  var DragDirection = {\n    UP: 1,\n    DOWN: 2,\n    LEFT: 3,\n    RIGHT: 4,\n    UNKNOWN: 5\n  };\n  var FPS_INTERVAL = 1000 / 60;\n\n  var measure = function measure(element, fn) {\n    var prevWidth = element.style.width;\n    var prevVisibility = element.style.visibility;\n    element.style.width = 'auto';\n    element.style.visibility = 'hidden';\n    var result = fn(element);\n    element.style.width = prevWidth;\n    element.style.visibility = prevVisibility;\n    return result;\n  };\n\n  var initialState = {\n    leadingFullSwipe: false,\n    trailingFullSwipe: false,\n    triggerAction: false,\n    scaleLeading: false,\n    scaleTrailing: false\n  };\n\n  var SwipeableListItem = /*#__PURE__*/function (_PureComponent) {\n    _inherits(SwipeableListItem, _PureComponent);\n\n    var _super = _createSuper(SwipeableListItem);\n\n    function SwipeableListItem(props) {\n      var _this;\n\n      _classCallCheck(this, SwipeableListItem);\n\n      _this = _super.call(this, props);\n\n      _defineProperty(_assertThisInitialized(_this), \"setLeadingFullSwipeAction\", function (action) {\n        _this.leadingFullSwipeAction = action;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"setTrailingFullSwipeAction\", function (action) {\n        _this.trailingFullSwipeAction = action;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"resetState\", function () {\n        _this.dragStartPoint = {\n          x: -1,\n          y: -1\n        };\n        _this.dragDirection = DragDirection.UNKNOWN;\n        _this.left = 0;\n        _this.previousSwipeDistancePercent = 0;\n        _this.leadingActionsOpened = false;\n        _this.trailingActionsOpened = false;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleDragStartMouse\", function (event) {\n        window.addEventListener('mouseup', _this.handleDragEndMouse);\n        window.addEventListener('mousemove', _this.handleMouseMove);\n\n        _this.listElement.addEventListener('mouseup', _this.handleDragEndMouse);\n\n        _this.listElement.addEventListener('mousemove', _this.handleMouseMove);\n\n        _this.handleDragStart(event);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleDragStartTouch\", function (event) {\n        window.addEventListener('touchend', _this.handleDragEndTouch);\n        var touch = event.targetTouches[0];\n\n        _this.handleDragStart(touch);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleDragStart\", function (_ref) {\n        var clientX = _ref.clientX,\n            clientY = _ref.clientY;\n\n        if (!_this.leadingActionsOpened && !_this.trailingActionsOpened) {\n          _this.resetState();\n\n          _this.setState(initialState);\n        }\n\n        var startOffsetX = 0;\n\n        if (_this.leadingActionsOpened) {\n          startOffsetX = -_this.leadingActionsWidth;\n        }\n\n        if (_this.trailingActionsOpened) {\n          startOffsetX = _this.trailingActionsWidth;\n        }\n\n        _this.dragStartPoint = {\n          x: clientX + startOffsetX,\n          y: clientY\n        };\n        _this.listElement.className = 'swipeable-list-item__content';\n\n        if (_this.leadingActionsElement) {\n          _this.leadingActionsElement.className = 'swipeable-list-item__leading-actions';\n        }\n\n        if (_this.trailingActionsElement) {\n          _this.trailingActionsElement.className = 'swipeable-list-item__trailing-actions';\n        }\n\n        _this.startTime = Date.now();\n\n        _this.scheduleUpdatePosition();\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseMove\", function (event) {\n        if (_this.dragStartedWithinItem()) {\n          var clientX = event.clientX,\n              clientY = event.clientY;\n\n          _this.setDragDirection(clientX, clientY);\n\n          if (_this.isSwiping()) {\n            event.stopPropagation();\n            event.preventDefault();\n            _this.left = clientX - _this.dragStartPoint.x;\n\n            _this.scheduleUpdatePosition();\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchMove\", function (event) {\n        if (_this.dragStartedWithinItem()) {\n          var _event$targetTouches$ = event.targetTouches[0],\n              clientX = _event$targetTouches$.clientX,\n              clientY = _event$targetTouches$.clientY;\n\n          _this.setDragDirection(clientX, clientY);\n\n          if (!event.cancelable) {\n            return;\n          }\n\n          if (_this.isSwiping()) {\n            event.stopPropagation();\n            event.preventDefault();\n            _this.left = clientX - _this.dragStartPoint.x;\n\n            _this.scheduleUpdatePosition();\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleDragEndMouse\", function () {\n        window.removeEventListener('mouseup', _this.handleDragEndMouse);\n        window.removeEventListener('mousemove', _this.handleMouseMove);\n\n        if (_this.listElement) {\n          _this.listElement.removeEventListener('mouseup', _this.handleDragEndMouse);\n\n          _this.listElement.removeEventListener('mousemove', _this.handleMouseMove);\n        }\n\n        _this.handleDragEnd();\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleDragEndTouch\", function () {\n        window.removeEventListener('touchend', _this.handleDragEndTouch);\n\n        _this.handleDragEnd();\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"playReturnAnimationForLeadingActions\", function (_ref2) {\n        var to = _ref2.to,\n            isIosType = _ref2.isIosType,\n            playMsReturnAnimation = _ref2.playMsReturnAnimation;\n\n        if (_this.leadingActionsElement) {\n          _this.leadingActionsElement.className = clsx('swipeable-list-item__leading-actions', playMsReturnAnimation ? 'swipeable-list-item__actions--return-ms' : 'swipeable-list-item__leading-actions--return');\n\n          if (_this.leadingActionsOpened && isIosType) {\n            _this.leadingActionsElement.className += ' test-actions-opened';\n          }\n\n          if (playMsReturnAnimation) {\n            var keepAnimationEnd = function keepAnimationEnd() {\n              _this.leadingActionsElement.removeEventListener('animationend', keepAnimationEnd);\n\n              _this.leadingActionsElement.style.width = 0;\n            };\n\n            _this.leadingActionsElement.addEventListener('animationend', keepAnimationEnd);\n          } else {\n            _this.leadingActionsElement.style.width = \"\".concat(to === 0 || !isIosType ? 0 : _this.leadingActionsOpened && isIosType ? _this.leadingActionsWidth : 0, \"px\");\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"playReturnAnimationForTrailingActions\", function (_ref3) {\n        var to = _ref3.to,\n            isIosType = _ref3.isIosType,\n            playMsReturnAnimation = _ref3.playMsReturnAnimation;\n\n        if (_this.trailingActionsElement) {\n          _this.trailingActionsElement.className = clsx('swipeable-list-item__trailing-actions', playMsReturnAnimation ? 'swipeable-list-item__actions--return-ms' : 'swipeable-list-item__trailing-actions--return');\n\n          if (_this.trailingActionsOpened && isIosType) {\n            _this.trailingActionsElement.className += ' test-actions-opened';\n          }\n\n          if (!playMsReturnAnimation) {\n            _this.trailingActionsElement.style.width = \"\".concat(to === 0 || !isIosType ? 0 : _this.trailingActionsOpened && isIosType ? _this.trailingActionsWidth : 0, \"px\");\n          } else {\n            var keepAnimationEnd = function keepAnimationEnd() {\n              _this.trailingActionsElement.removeEventListener('animationend', keepAnimationEnd);\n\n              _this.trailingActionsElement.style.width = 0;\n            };\n\n            _this.trailingActionsElement.addEventListener('animationend', keepAnimationEnd);\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"playReturnAnimation\", function () {\n        var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            _ref4$to = _ref4.to,\n            to = _ref4$to === void 0 ? 0 : _ref4$to;\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            listElement = _assertThisInitialize.listElement;\n\n        var listType = _this.props.listType;\n        var triggerAction = _this.state.triggerAction;\n        var isIosType = listType === Type.IOS;\n        var isMsType = listType === Type.MS;\n        var playMsReturnAnimation = triggerAction && isMsType;\n\n        if (playMsReturnAnimation) {\n          var keepAnimationEnd = function keepAnimationEnd() {\n            listElement.removeEventListener('animationend', keepAnimationEnd);\n            listElement.style.transform = \"translateX(0)\";\n          };\n\n          listElement.addEventListener('animationend', keepAnimationEnd);\n        }\n\n        if (listElement) {\n          listElement.className = clsx('swipeable-list-item__content', playMsReturnAnimation ? \"swipeable-list-item__content--return-\".concat(_this.left < 0 ? 'trailing' : 'leading', \"-ms\") : 'swipeable-list-item__content--return');\n\n          if (!playMsReturnAnimation) {\n            listElement.style.transform = \"translateX(\".concat(isIosType ? to : 0, \"px)\");\n          }\n        }\n\n        if (_this.left < 0) {\n          _this.playReturnAnimationForTrailingActions({\n            to: to,\n            isIosType: isIosType,\n            playMsReturnAnimation: playMsReturnAnimation\n          });\n        } else {\n          _this.playReturnAnimationForLeadingActions({\n            to: to,\n            isIosType: isIosType,\n            playMsReturnAnimation: playMsReturnAnimation\n          });\n        }\n\n        if (to === 0) {\n          _this.leadingActionsOpened = false;\n          _this.trailingActionsOpened = false;\n\n          _this.resetState();\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"playRemoveAnimation\", function () {\n        var _assertThisInitialize2 = _assertThisInitialized(_this),\n            listElement = _assertThisInitialize2.listElement,\n            wrapperElement = _assertThisInitialize2.wrapperElement;\n\n        var listType = _this.props.listType;\n\n        if (listElement) {\n          wrapperElement.className = 'swipeable-list-item swipeable-list-item--remove';\n          listElement.className = 'swipeable-list-item__content swipeable-list-item__content--remove';\n          var isIosType = listType === Type.IOS;\n          var leadingFullSwipe = isIosType ? _this.leadingActionsOpened : _this.dragDirection === DragDirection.RIGHT;\n          var trailingFullSwipe = isIosType ? _this.trailingActionsOpened : _this.dragDirection === DragDirection.LEFT;\n          var translateLength = listElement.offsetWidth * (leadingFullSwipe ? 1 : -1);\n          listElement.style.transform = \"translateX(\".concat(translateLength, \"px)\");\n\n          _this.setState({\n            leadingFullSwipe: leadingFullSwipe,\n            trailingFullSwipe: trailingFullSwipe\n          });\n\n          if (leadingFullSwipe) {\n            _this.leadingActionsElement.className += ' swipeable-list-item__leading-actions--return';\n            _this.leadingActionsElement.style.width = \"\".concat(Math.abs(translateLength), \"px\");\n          } else if (trailingFullSwipe) {\n            _this.trailingActionsElement.className += ' swipeable-list-item__trailing-actions--return';\n            _this.trailingActionsElement.style.width = \"\".concat(Math.abs(translateLength), \"px\");\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"playActionAnimation\", function (_ref5) {\n        var type = _ref5.type;\n\n        var _assertThisInitialize3 = _assertThisInitialized(_this),\n            listElement = _assertThisInitialize3.listElement;\n\n        if (listElement) {\n          switch (type) {\n            case ActionAnimation.REMOVE:\n              _this.playRemoveAnimation();\n\n              break;\n\n            case ActionAnimation.NONE:\n              break;\n\n            default:\n              _this.playReturnAnimation();\n\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleDragEnd\", function () {\n        if (_this.requestedAnimationFrame) {\n          cancelAnimationFrame(_this.requestedAnimationFrame);\n          _this.requestedAnimationFrame = null;\n        }\n\n        if (_this.isSwiping()) {\n          var _this$state = _this.state,\n              leadingFullSwipe = _this$state.leadingFullSwipe,\n              trailingFullSwipe = _this$state.trailingFullSwipe,\n              triggerAction = _this$state.triggerAction;\n          var onSwipeEnd = _this.props.onSwipeEnd;\n\n          if (onSwipeEnd) {\n            onSwipeEnd();\n          }\n\n          if (triggerAction) {\n            if (leadingFullSwipe) {\n              _this.leadingFullSwipeAction();\n\n              return;\n            }\n\n            if (trailingFullSwipe) {\n              _this.trailingFullSwipeAction();\n\n              return;\n            }\n          }\n\n          if (_this.leadingActionsOpened || _this.trailingActionsOpened) {\n            if (_this.leadingActionsOpened) {\n              _this.left = _this.leadingActionsWidth;\n            } else if (_this.trailingActionsOpened) {\n              _this.left = -_this.trailingActionsWidth;\n            }\n\n            _this.playReturnAnimation({\n              to: _this.left\n            });\n          } else {\n            _this.playReturnAnimation();\n\n            _this.resetState();\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"dragStartedWithinItem\", function () {\n        var _this$dragStartPoint = _this.dragStartPoint,\n            x = _this$dragStartPoint.x,\n            y = _this$dragStartPoint.y;\n        return x !== -1 && y !== -1;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"setDragDirection\", function (x, y) {\n        if (_this.dragDirection === DragDirection.UNKNOWN) {\n          var _this$dragStartPoint2 = _this.dragStartPoint,\n              startX = _this$dragStartPoint2.x,\n              startY = _this$dragStartPoint2.y;\n          var horizontalDistance = Math.abs(x - startX);\n          var verticalDistance = Math.abs(y - startY);\n\n          if (horizontalDistance <= _this.dragHorizontalDirectionThreshold && verticalDistance <= _this.dragVerticalDirectionThreshold) {\n            return;\n          }\n\n          var angle = Math.atan2(y - startY, x - startX);\n          var octant = Math.round(8 * angle / (2 * Math.PI) + 8) % 8;\n\n          switch (octant) {\n            case 0:\n              if (_this.leadingActionsElement !== null && horizontalDistance > _this.dragHorizontalDirectionThreshold) {\n                _this.dragDirection = DragDirection.RIGHT;\n              }\n\n              break;\n\n            case 1:\n            case 2:\n            case 3:\n              if (verticalDistance > _this.dragVerticalDirectionThreshold) {\n                _this.dragDirection = DragDirection.DOWN;\n              }\n\n              break;\n\n            case 4:\n              if (_this.trailingActionsElement !== null && horizontalDistance > _this.dragHorizontalDirectionThreshold) {\n                _this.dragDirection = DragDirection.LEFT;\n              }\n\n              break;\n\n            case 5:\n            case 6:\n            case 7:\n              if (verticalDistance > _this.dragVerticalDirectionThreshold) {\n                _this.dragDirection = DragDirection.UP;\n              }\n\n              break;\n\n            default:\n              _this.dragDirection = DragDirection.UNKNOWN;\n          }\n\n          var onSwipeStart = _this.props.onSwipeStart;\n\n          if (onSwipeStart && _this.isSwiping()) {\n            onSwipeStart();\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"isSwiping\", function () {\n        var blockSwipe = _this.props.blockSwipe;\n        var horizontalDrag = _this.dragDirection === DragDirection.LEFT || _this.dragDirection === DragDirection.RIGHT;\n        return !blockSwipe && _this.dragStartedWithinItem() && horizontalDrag;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"scheduleUpdatePosition\", function () {\n        if (_this.requestedAnimationFrame) {\n          return;\n        }\n\n        _this.requestedAnimationFrame = requestAnimationFrame(function () {\n          _this.requestedAnimationFrame = null;\n\n          _this.updatePosition();\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"updatePosition\", function () {\n        if (!_this.isSwiping()) {\n          return;\n        }\n\n        var elapsed = Date.now() - _this.startTime;\n\n        if (elapsed <= FPS_INTERVAL) {\n          return;\n        }\n\n        var _this$props = _this.props,\n            fullSwipeThreshold = _this$props.threshold,\n            listType = _this$props.listType;\n        var fullSwipe = _this.fullSwipe;\n        var isSwipingLeft = _this.left < 0;\n        var isSwipingRight = _this.left > 0;\n\n        if (isSwipingLeft) {\n          if (_this.onlyLeadingActions) {\n            _this.left = 0;\n          }\n\n          if (_this.trailingActionsElement && listType === Type.IOS) {\n            _this.trailingActionsOpened = Math.abs(_this.left) > _this.trailingActionsWidth;\n            _this.leadingActionsOpened = false;\n          }\n        }\n\n        if (isSwipingRight) {\n          if (_this.onlyTrailingActions) {\n            _this.left = 0;\n          }\n\n          if (_this.leadingActionsElement && listType === Type.IOS) {\n            _this.leadingActionsOpened = _this.left > _this.leadingActionsWidth;\n            _this.trailingActionsOpened = false;\n          }\n        }\n\n        if (_this.leadingActionsElement) {\n          _this.leadingActionsElement.style.width = \"\".concat(_this.left < 0 ? 0 : _this.left, \"px\");\n        }\n\n        if (_this.trailingActionsElement) {\n          _this.trailingActionsElement.style.width = \"\".concat(_this.left > 0 ? 0 : -_this.left, \"px\");\n        }\n\n        if (_this.listElement) {\n          if (fullSwipe) {\n            var _assertThisInitialize4 = _assertThisInitialized(_this),\n                offsetWidth = _assertThisInitialize4.listElement.offsetWidth;\n\n            var threshold = offsetWidth * fullSwipeThreshold;\n\n            if (_this.left < -threshold) {\n              _this.setState({\n                leadingFullSwipe: false,\n                trailingFullSwipe: true,\n                triggerAction: true,\n                scaleTrailing: true\n              });\n            } else if (_this.left > threshold) {\n              _this.setState({\n                leadingFullSwipe: true,\n                trailingFullSwipe: false,\n                triggerAction: true,\n                scaleLeading: true\n              });\n            } else {\n              _this.setState({\n                scaleLeading: false,\n                scaleTrailing: false,\n                triggerAction: false\n              });\n            }\n          }\n\n          _this.listElement.style.transform = \"translateX(\".concat(_this.left, \"px)\");\n\n          if (_this.props.onSwipeProgress) {\n            var listElementWidth = _this.listElement.offsetWidth;\n            var swipeDistancePercent = _this.previousSwipeDistancePercent;\n\n            if (listElementWidth !== 0) {\n              var swipeDistance = Math.max(0, listElementWidth - Math.abs(_this.left));\n              swipeDistancePercent = 100 - Math.round(100 * swipeDistance / listElementWidth);\n            }\n\n            if (_this.previousSwipeDistancePercent !== swipeDistancePercent) {\n              _this.props.onSwipeProgress(swipeDistancePercent);\n\n              _this.previousSwipeDistancePercent = swipeDistancePercent;\n            }\n          }\n        }\n\n        _this.startTime = Date.now();\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onActionTriggered\", function (isDestructive) {\n        _this.playActionAnimation({\n          type: isDestructive ? ActionAnimation.REMOVE : ActionAnimation.RETURN\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"bindListElement\", function (ref) {\n        return _this.listElement = ref;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"bindWrapperElement\", function (ref) {\n        return _this.wrapperElement = ref;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"bindLeadingActionsElement\", function (ref) {\n        return _this.leadingActionsElement = ref;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"bindTrailingActionsElement\", function (ref) {\n        return _this.trailingActionsElement = ref;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderActions\", function (actions, type, binder) {\n        var _this$props2 = _this.props,\n            destructiveCallbackDelay = _this$props2.destructiveCallbackDelay,\n            listType = _this$props2.listType;\n        var _this$state2 = _this.state,\n            leadingFullSwipe = _this$state2.leadingFullSwipe,\n            trailingFullSwipe = _this$state2.trailingFullSwipe,\n            scaleLeading = _this$state2.scaleLeading,\n            scaleTrailing = _this$state2.scaleTrailing;\n\n        var _assertThisInitialize5 = _assertThisInitialized(_this),\n            onActionTriggered = _assertThisInitialize5.onActionTriggered,\n            setLeadingFullSwipeAction = _assertThisInitialize5.setLeadingFullSwipeAction,\n            setTrailingFullSwipeAction = _assertThisInitialize5.setTrailingFullSwipeAction;\n\n        var scaled = listType === Type.MS && (scaleLeading && type === 'leading' || scaleTrailing && type === 'trailing');\n        return /*#__PURE__*/React__default[\"default\"].createElement(\"div\", {\n          className: clsx(\"swipeable-list-item__\".concat(type, \"-actions\"), _defineProperty({}, \"swipeable-list-item__\".concat(type, \"-actions--scaled\"), scaled)),\n          \"data-testid\": \"\".concat(type, \"-actions\"),\n          ref: binder\n        }, /*#__PURE__*/React__default[\"default\"].createElement(ItemContext.Provider, {\n          value: {\n            destructiveCallbackDelay: destructiveCallbackDelay,\n            listType: listType,\n            leadingFullSwipe: leadingFullSwipe,\n            onActionTriggered: onActionTriggered,\n            scaleLeading: scaleLeading,\n            scaleTrailing: scaleTrailing,\n            setLeadingFullSwipeAction: setLeadingFullSwipeAction,\n            setTrailingFullSwipeAction: setTrailingFullSwipeAction,\n            trailingFullSwipe: trailingFullSwipe\n          }\n        }, actions));\n      });\n\n      _this.state = initialState; // binded elements\n\n      _this.listElement = null;\n      _this.leadingActionsElement = null;\n      _this.trailingActionsElement = null;\n      _this.wrapperElement = null;\n      _this.requestedAnimationFrame = null;\n      _this.leadingActionsWidth = 0;\n      _this.trailingActionsWidth = 0;\n      _this.startTime = null;\n      _this.previousSwipeDistancePercent = 0;\n      _this.leadingFullSwipeAction = null;\n      _this.trailingFullSwipeAction = null;\n\n      _this.resetState();\n\n      return _this;\n    }\n\n    _createClass(SwipeableListItem, [{\n      key: \"dragHorizontalDirectionThreshold\",\n      get: function get() {\n        return this.props.swipeStartThreshold || 10;\n      }\n    }, {\n      key: \"dragVerticalDirectionThreshold\",\n      get: function get() {\n        return this.props.scrollStartThreshold || 10;\n      }\n    }, {\n      key: \"fullSwipe\",\n      get: function get() {\n        var _this$props3 = this.props,\n            fullSwipe = _this$props3.fullSwipe,\n            listType = _this$props3.listType;\n\n        if (listType === Type.IOS) {\n          return fullSwipe;\n        }\n\n        return true;\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.listElement.addEventListener('mousedown', this.handleDragStartMouse);\n        this.listElement.addEventListener('touchstart', this.handleDragStartTouch);\n        this.listElement.addEventListener('touchend', this.handleDragEndTouch);\n        this.listElement.addEventListener('touchmove', this.handleTouchMove, {\n          capture: true,\n          passive: false\n        });\n\n        if (this.leadingActionsElement) {\n          this.leadingActionsWidth = measure(this.leadingActionsElement, function (el) {\n            return el.offsetWidth;\n          });\n        }\n\n        if (this.trailingActionsElement) {\n          this.trailingActionsWidth = measure(this.trailingActionsElement, function (el) {\n            return el.offsetWidth;\n          });\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (this.requestedAnimationFrame) {\n          cancelAnimationFrame(this.requestedAnimationFrame);\n          this.requestedAnimationFrame = null;\n        }\n\n        this.listElement.removeEventListener('mousedown', this.handleDragStartMouse);\n        this.listElement.removeEventListener('touchstart', this.handleDragStartTouch);\n        this.listElement.removeEventListener('touchend', this.handleDragEndTouch);\n        this.listElement.removeEventListener('touchmove', this.handleTouchMove, {\n          capture: true,\n          passive: false\n        });\n      }\n    }, {\n      key: \"onlyLeadingActions\",\n      get: function get() {\n        return this.leadingActionsElement !== null && this.trailingActionsElement === null;\n      }\n    }, {\n      key: \"onlyTrailingActions\",\n      get: function get() {\n        return this.leadingActionsElement === null && this.trailingActionsElement !== null;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props4 = this.props,\n            children = _this$props4.children,\n            className = _this$props4.className,\n            leadingActions = _this$props4.leadingActions,\n            trailingActions = _this$props4.trailingActions,\n            onClick = _this$props4.onClick;\n        return /*#__PURE__*/React__default[\"default\"].createElement(\"div\", {\n          className: clsx('swipeable-list-item', className),\n          ref: this.bindWrapperElement,\n          onClick: this.leadingActionsOpened || this.trailingActionsOpened ? undefined : onClick\n        }, leadingActions && this.renderActions(leadingActions, 'leading', this.bindLeadingActionsElement), /*#__PURE__*/React__default[\"default\"].createElement(\"div\", {\n          className: \"swipeable-list-item__content\",\n          \"data-testid\": \"content\",\n          ref: this.bindListElement\n        }, children), trailingActions && this.renderActions(trailingActions, 'trailing', this.bindTrailingActionsElement));\n      }\n    }]);\n\n    return SwipeableListItem;\n  }(React.PureComponent);\n\n  SwipeableListItem.propTypes = {\n    blockSwipe: PropTypes__default[\"default\"].bool,\n    children: PropTypes__default[\"default\"].node,\n    className: PropTypes__default[\"default\"].string,\n    destructiveCallbackDelay: PropTypes__default[\"default\"].number,\n    fullSwipe: PropTypes__default[\"default\"].bool,\n    leadingActions: PropTypes__default[\"default\"].node,\n    listType: PropTypes__default[\"default\"].oneOf(Object.values(Type)),\n    onClick: PropTypes__default[\"default\"].func,\n    onSwipeEnd: PropTypes__default[\"default\"].func,\n    onSwipeProgress: PropTypes__default[\"default\"].func,\n    onSwipeStart: PropTypes__default[\"default\"].func,\n    scrollStartThreshold: PropTypes__default[\"default\"].number,\n    swipeStartThreshold: PropTypes__default[\"default\"].number,\n    threshold: PropTypes__default[\"default\"].number,\n    trailingActions: PropTypes__default[\"default\"].node\n  };\n\n  var SwipeAction = function SwipeAction(_ref) {\n    var children = _ref.children,\n        className = _ref.className,\n        _ref$destructive = _ref.destructive,\n        destructive = _ref$destructive === void 0 ? false : _ref$destructive,\n        _ref$main = _ref.main,\n        main = _ref$main === void 0 ? false : _ref$main,\n        leading = _ref.leading,\n        onClick = _ref.onClick,\n        trailing = _ref.trailing,\n        _ref$Tag = _ref.Tag,\n        Tag = _ref$Tag === void 0 ? 'span' : _ref$Tag;\n\n    var _React$useContext = React__default[\"default\"].useContext(ItemContext),\n        destructiveCallbackDelay = _React$useContext.destructiveCallbackDelay,\n        leadingFullSwipe = _React$useContext.leadingFullSwipe,\n        listType = _React$useContext.listType,\n        onActionTriggered = _React$useContext.onActionTriggered,\n        setLeadingFullSwipeAction = _React$useContext.setLeadingFullSwipeAction,\n        setTrailingFullSwipeAction = _React$useContext.setTrailingFullSwipeAction,\n        trailingFullSwipe = _React$useContext.trailingFullSwipe,\n        scaleLeading = _React$useContext.scaleLeading,\n        scaleTrailing = _React$useContext.scaleTrailing;\n\n    var onHandleClick = React__default[\"default\"].useCallback(function () {\n      onActionTriggered(destructive);\n\n      if (destructive) {\n        window.setTimeout(function () {\n          return onClick();\n        }, destructiveCallbackDelay);\n      } else {\n        onClick();\n      }\n    }, [destructive, destructiveCallbackDelay, onActionTriggered, onClick]);\n    React__default[\"default\"].useEffect(function () {\n      if (leading && main) {\n        setLeadingFullSwipeAction(onHandleClick);\n      }\n    }, [leading, main, onHandleClick, setLeadingFullSwipeAction]);\n    React__default[\"default\"].useEffect(function () {\n      if (trailing && main) {\n        setTrailingFullSwipeAction(onHandleClick);\n      }\n    }, [trailing, main, onHandleClick, setTrailingFullSwipeAction]);\n    return /*#__PURE__*/React__default[\"default\"].createElement(Tag, {\n      className: clsx('swipe-action', {\n        'swipe-action__leading': leading,\n        'swipe-action__trailing': trailing,\n        'swipe-action__leading--full-swipe-rest': leading && leadingFullSwipe && !main && listType === Type.IOS,\n        'swipe-action__leading--full-swipe-main': leading && leadingFullSwipe && main && listType === Type.IOS,\n        'swipe-action__trailing--full-swipe-rest': trailing && trailingFullSwipe && !main && listType === Type.IOS,\n        'swipe-action__trailing--full-swipe-main': trailing && trailingFullSwipe && main && listType === Type.IOS,\n        'swipe-action__grayed': listType === Type.MS && !(scaleLeading || scaleTrailing)\n      }, className),\n      onClick: onHandleClick\n    }, children);\n  };\n\n  SwipeAction.propTypes = {\n    children: PropTypes__default[\"default\"].node.isRequired,\n    className: PropTypes__default[\"default\"].string,\n    destructive: PropTypes__default[\"default\"].bool,\n    main: PropTypes__default[\"default\"].bool,\n    leading: PropTypes__default[\"default\"].bool,\n    onClick: PropTypes__default[\"default\"].func.isRequired,\n    trailing: PropTypes__default[\"default\"].bool,\n    Tag: PropTypes__default[\"default\"].string\n  };\n\n  var TrailingActions = function TrailingActions(_ref) {\n    var children = _ref.children;\n\n    if (children === null || children === undefined) {\n      return null;\n    }\n\n    if (Array.isArray(children)) {\n      return React__default[\"default\"].Children.map(children, function (child, index) {\n        return /*#__PURE__*/React__default[\"default\"].cloneElement(child, {\n          main: index === children.length - 1,\n          trailing: true\n        });\n      });\n    }\n\n    return /*#__PURE__*/React__default[\"default\"].cloneElement(children, {\n      main: true,\n      trailing: true\n    });\n  };\n\n  exports.LeadingActions = LeadingActions;\n  exports.SwipeAction = SwipeAction;\n  exports.SwipeableList = SwipeableList;\n  exports.SwipeableListItem = SwipeableListItem;\n  exports.TrailingActions = TrailingActions;\n  exports.Type = Type;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3Qtc3dpcGVhYmxlLWxpc3QvZGlzdC9yZWFjdC1zd2lwZWFibGUtbGlzdC51bWQuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxFQUFFLEtBQTRELG9CQUFvQixtQkFBTyxDQUFDLDRDQUFPLEdBQUcsbUJBQU8sQ0FBQyxzREFBWTtBQUN4SCxFQUFFLENBQ3dKO0FBQzFKLENBQUMsZ0RBQWdEOztBQUVqRCx1Q0FBdUMsNERBQTREOztBQUVuRztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtGQUFrRjtBQUNsRjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0EsMEZBQTBGO0FBQzFGO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNULE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsOEZBQThGO0FBQzlGO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPOztBQUVQLGtDQUFrQzs7QUFFbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaURBQWlELGFBQWE7O0FBRTlELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXN3aXBlYWJsZS1saXN0L2Rpc3QvcmVhY3Qtc3dpcGVhYmxlLWxpc3QudW1kLmpzPzhhNTQiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzLCByZXF1aXJlKCdyZWFjdCcpLCByZXF1aXJlKCdwcm9wLXR5cGVzJykpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cycsICdyZWFjdCcsICdwcm9wLXR5cGVzJ10sIGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZmFjdG9yeShnbG9iYWxbXCJyZWFjdC1zd2lwZWFibGUtbGlzdFwiXSA9IHt9LCBnbG9iYWwuUmVhY3QsIGdsb2JhbC5Qcm9wVHlwZXMpKTtcbn0pKHRoaXMsIChmdW5jdGlvbiAoZXhwb3J0cywgUmVhY3QsIFByb3BUeXBlcykgeyAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gX2ludGVyb3BEZWZhdWx0TGVnYWN5IChlKSB7IHJldHVybiBlICYmIHR5cGVvZiBlID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gZSA/IGUgOiB7ICdkZWZhdWx0JzogZSB9OyB9XG5cbiAgdmFyIFJlYWN0X19kZWZhdWx0ID0gLyojX19QVVJFX18qL19pbnRlcm9wRGVmYXVsdExlZ2FjeShSZWFjdCk7XG4gIHZhciBQcm9wVHlwZXNfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BEZWZhdWx0TGVnYWN5KFByb3BUeXBlcyk7XG5cbiAgdmFyIExlYWRpbmdBY3Rpb25zID0gZnVuY3Rpb24gTGVhZGluZ0FjdGlvbnMoX3JlZikge1xuICAgIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG5cbiAgICBpZiAoY2hpbGRyZW4gPT09IG51bGwgfHwgY2hpbGRyZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0W1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAgICBsZWFkaW5nOiB0cnVlLFxuICAgICAgICAgIG1haW46IGluZGV4ID09PSAwXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB7XG4gICAgICBsZWFkaW5nOiB0cnVlLFxuICAgICAgbWFpbjogdHJ1ZVxuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHRvVmFsKG1peCkge1xuICBcdHZhciBrLCB5LCBzdHI9Jyc7XG5cbiAgXHRpZiAodHlwZW9mIG1peCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG1peCA9PT0gJ251bWJlcicpIHtcbiAgXHRcdHN0ciArPSBtaXg7XG4gIFx0fSBlbHNlIGlmICh0eXBlb2YgbWl4ID09PSAnb2JqZWN0Jykge1xuICBcdFx0aWYgKEFycmF5LmlzQXJyYXkobWl4KSkge1xuICBcdFx0XHRmb3IgKGs9MDsgayA8IG1peC5sZW5ndGg7IGsrKykge1xuICBcdFx0XHRcdGlmIChtaXhba10pIHtcbiAgXHRcdFx0XHRcdGlmICh5ID0gdG9WYWwobWl4W2tdKSkge1xuICBcdFx0XHRcdFx0XHRzdHIgJiYgKHN0ciArPSAnICcpO1xuICBcdFx0XHRcdFx0XHRzdHIgKz0geTtcbiAgXHRcdFx0XHRcdH1cbiAgXHRcdFx0XHR9XG4gIFx0XHRcdH1cbiAgXHRcdH0gZWxzZSB7XG4gIFx0XHRcdGZvciAoayBpbiBtaXgpIHtcbiAgXHRcdFx0XHRpZiAobWl4W2tdKSB7XG4gIFx0XHRcdFx0XHRzdHIgJiYgKHN0ciArPSAnICcpO1xuICBcdFx0XHRcdFx0c3RyICs9IGs7XG4gIFx0XHRcdFx0fVxuICBcdFx0XHR9XG4gIFx0XHR9XG4gIFx0fVxuXG4gIFx0cmV0dXJuIHN0cjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsc3ggKCkge1xuICBcdHZhciBpPTAsIHRtcCwgeCwgc3RyPScnO1xuICBcdHdoaWxlIChpIDwgYXJndW1lbnRzLmxlbmd0aCkge1xuICBcdFx0aWYgKHRtcCA9IGFyZ3VtZW50c1tpKytdKSB7XG4gIFx0XHRcdGlmICh4ID0gdG9WYWwodG1wKSkge1xuICBcdFx0XHRcdHN0ciAmJiAoc3RyICs9ICcgJyk7XG4gIFx0XHRcdFx0c3RyICs9IHg7XG4gIFx0XHRcdH1cbiAgXHRcdH1cbiAgXHR9XG4gIFx0cmV0dXJuIHN0cjtcbiAgfVxuXG4gIHZhciBUeXBlID0ge1xuICAgIEFORFJPSUQ6IFN5bWJvbCgnQU5EUk9JRCcpLFxuICAgIElPUzogU3ltYm9sKCdJT1MnKSxcbiAgICBNUzogU3ltYm9sKCdNUycpXG4gIH07XG5cbiAgdmFyIFN3aXBlYWJsZUxpc3QgPSBmdW5jdGlvbiBTd2lwZWFibGVMaXN0KF9yZWYpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgICBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgICBjbGFzc05hbWUgPSBfcmVmJGNsYXNzTmFtZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgICAgX3JlZiRmdWxsU3dpcGUgPSBfcmVmLmZ1bGxTd2lwZSxcbiAgICAgICAgZnVsbFN3aXBlID0gX3JlZiRmdWxsU3dpcGUgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRmdWxsU3dpcGUsXG4gICAgICAgIF9yZWYkZGVzdHJ1Y3RpdmVDYWxsYiA9IF9yZWYuZGVzdHJ1Y3RpdmVDYWxsYmFja0RlbGF5LFxuICAgICAgICBkZXN0cnVjdGl2ZUNhbGxiYWNrRGVsYXkgPSBfcmVmJGRlc3RydWN0aXZlQ2FsbGIgPT09IHZvaWQgMCA/IDEwMDAgOiBfcmVmJGRlc3RydWN0aXZlQ2FsbGIsXG4gICAgICAgIHN0eWxlID0gX3JlZi5zdHlsZSxcbiAgICAgICAgX3JlZiR0eXBlID0gX3JlZi50eXBlLFxuICAgICAgICB0eXBlID0gX3JlZiR0eXBlID09PSB2b2lkIDAgPyBUeXBlLkFORFJPSUQgOiBfcmVmJHR5cGUsXG4gICAgICAgIF9yZWYkVGFnID0gX3JlZi5UYWcsXG4gICAgICAgIFRhZyA9IF9yZWYkVGFnID09PSB2b2lkIDAgPyAnZGl2JyA6IF9yZWYkVGFnLFxuICAgICAgICBzY3JvbGxTdGFydFRocmVzaG9sZCA9IF9yZWYuc2Nyb2xsU3RhcnRUaHJlc2hvbGQsXG4gICAgICAgIHN3aXBlU3RhcnRUaHJlc2hvbGQgPSBfcmVmLnN3aXBlU3RhcnRUaHJlc2hvbGQsXG4gICAgICAgIF9yZWYkdGhyZXNob2xkID0gX3JlZi50aHJlc2hvbGQsXG4gICAgICAgIHRocmVzaG9sZCA9IF9yZWYkdGhyZXNob2xkID09PSB2b2lkIDAgPyAwLjUgOiBfcmVmJHRocmVzaG9sZDtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFRhZywge1xuICAgICAgY2xhc3NOYW1lOiBjbHN4KCdzd2lwZWFibGUtbGlzdCcsIGNsYXNzTmFtZSksXG4gICAgICBzdHlsZTogc3R5bGVcbiAgICB9LCBSZWFjdF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgICBkZXN0cnVjdGl2ZUNhbGxiYWNrRGVsYXk6IGRlc3RydWN0aXZlQ2FsbGJhY2tEZWxheSxcbiAgICAgICAgZnVsbFN3aXBlOiBmdWxsU3dpcGUsXG4gICAgICAgIGxpc3RUeXBlOiB0eXBlLFxuICAgICAgICBzY3JvbGxTdGFydFRocmVzaG9sZDogc2Nyb2xsU3RhcnRUaHJlc2hvbGQsXG4gICAgICAgIHN3aXBlU3RhcnRUaHJlc2hvbGQ6IHN3aXBlU3RhcnRUaHJlc2hvbGQsXG4gICAgICAgIHRocmVzaG9sZDogdGhyZXNob2xkXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH07XG5cbiAgU3dpcGVhYmxlTGlzdC5wcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlc19fZGVmYXVsdFtcImRlZmF1bHRcIl0ubm9kZSxcbiAgICBjbGFzc05hbWU6IFByb3BUeXBlc19fZGVmYXVsdFtcImRlZmF1bHRcIl0uc3RyaW5nLFxuICAgIGZ1bGxTd2lwZTogUHJvcFR5cGVzX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5ib29sLFxuICAgIGRlc3RydWN0aXZlQ2FsbGJhY2tEZWxheTogUHJvcFR5cGVzX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5udW1iZXIsXG4gICAgc3R5bGU6IFByb3BUeXBlc19fZGVmYXVsdFtcImRlZmF1bHRcIl0ub2JqZWN0LFxuICAgIHR5cGU6IFByb3BUeXBlc19fZGVmYXVsdFtcImRlZmF1bHRcIl0ub25lT2YoT2JqZWN0LnZhbHVlcyhUeXBlKSksXG4gICAgVGFnOiBQcm9wVHlwZXNfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLnN0cmluZyxcbiAgICBzY3JvbGxTdGFydFRocmVzaG9sZDogUHJvcFR5cGVzX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5udW1iZXIsXG4gICAgc3dpcGVTdGFydFRocmVzaG9sZDogUHJvcFR5cGVzX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5udW1iZXIsXG4gICAgdGhyZXNob2xkOiBQcm9wVHlwZXNfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLm51bWJlclxuICB9O1xuXG4gIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICAgIHdyaXRhYmxlOiBmYWxzZVxuICAgIH0pO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3ViQ2xhc3MsIFwicHJvdG90eXBlXCIsIHtcbiAgICAgIHZhbHVlOiBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgfSk7XG4gICAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICAgIH07XG4gICAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgICByZXR1cm4gbztcbiAgICB9O1xuXG4gICAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTtcblxuICAgIHRyeSB7XG4gICAgICBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gICAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9XG5cbiAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICAgIGlmIChjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgICAgcmV0dXJuIGNhbGw7XG4gICAgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7XG4gICAgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7XG4gICAgICB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksXG4gICAgICAgICAgcmVzdWx0O1xuXG4gICAgICBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkge1xuICAgICAgICB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yO1xuXG4gICAgICAgIHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIEl0ZW1Db250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0W1wiZGVmYXVsdFwiXS5jcmVhdGVDb250ZXh0KCk7XG4gIHZhciBBY3Rpb25BbmltYXRpb24gPSB7XG4gICAgUkVUVVJOOiBTeW1ib2woJ1JldHVybicpLFxuICAgIFJFTU9WRTogU3ltYm9sKCdSZW1vdmUnKSxcbiAgICBOT05FOiBTeW1ib2woJ05vbmUnKVxuICB9O1xuICB2YXIgRHJhZ0RpcmVjdGlvbiA9IHtcbiAgICBVUDogMSxcbiAgICBET1dOOiAyLFxuICAgIExFRlQ6IDMsXG4gICAgUklHSFQ6IDQsXG4gICAgVU5LTk9XTjogNVxuICB9O1xuICB2YXIgRlBTX0lOVEVSVkFMID0gMTAwMCAvIDYwO1xuXG4gIHZhciBtZWFzdXJlID0gZnVuY3Rpb24gbWVhc3VyZShlbGVtZW50LCBmbikge1xuICAgIHZhciBwcmV2V2lkdGggPSBlbGVtZW50LnN0eWxlLndpZHRoO1xuICAgIHZhciBwcmV2VmlzaWJpbGl0eSA9IGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eTtcbiAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gJ2F1dG8nO1xuICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIHZhciByZXN1bHQgPSBmbihlbGVtZW50KTtcbiAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gcHJldldpZHRoO1xuICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9IHByZXZWaXNpYmlsaXR5O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIGluaXRpYWxTdGF0ZSA9IHtcbiAgICBsZWFkaW5nRnVsbFN3aXBlOiBmYWxzZSxcbiAgICB0cmFpbGluZ0Z1bGxTd2lwZTogZmFsc2UsXG4gICAgdHJpZ2dlckFjdGlvbjogZmFsc2UsXG4gICAgc2NhbGVMZWFkaW5nOiBmYWxzZSxcbiAgICBzY2FsZVRyYWlsaW5nOiBmYWxzZVxuICB9O1xuXG4gIHZhciBTd2lwZWFibGVMaXN0SXRlbSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1B1cmVDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoU3dpcGVhYmxlTGlzdEl0ZW0sIF9QdXJlQ29tcG9uZW50KTtcblxuICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU3dpcGVhYmxlTGlzdEl0ZW0pO1xuXG4gICAgZnVuY3Rpb24gU3dpcGVhYmxlTGlzdEl0ZW0ocHJvcHMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN3aXBlYWJsZUxpc3RJdGVtKTtcblxuICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzZXRMZWFkaW5nRnVsbFN3aXBlQWN0aW9uXCIsIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgX3RoaXMubGVhZGluZ0Z1bGxTd2lwZUFjdGlvbiA9IGFjdGlvbjtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic2V0VHJhaWxpbmdGdWxsU3dpcGVBY3Rpb25cIiwgZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBfdGhpcy50cmFpbGluZ0Z1bGxTd2lwZUFjdGlvbiA9IGFjdGlvbjtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicmVzZXRTdGF0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLmRyYWdTdGFydFBvaW50ID0ge1xuICAgICAgICAgIHg6IC0xLFxuICAgICAgICAgIHk6IC0xXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmRyYWdEaXJlY3Rpb24gPSBEcmFnRGlyZWN0aW9uLlVOS05PV047XG4gICAgICAgIF90aGlzLmxlZnQgPSAwO1xuICAgICAgICBfdGhpcy5wcmV2aW91c1N3aXBlRGlzdGFuY2VQZXJjZW50ID0gMDtcbiAgICAgICAgX3RoaXMubGVhZGluZ0FjdGlvbnNPcGVuZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMudHJhaWxpbmdBY3Rpb25zT3BlbmVkID0gZmFsc2U7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImhhbmRsZURyYWdTdGFydE1vdXNlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF90aGlzLmhhbmRsZURyYWdFbmRNb3VzZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpcy5oYW5kbGVNb3VzZU1vdmUpO1xuXG4gICAgICAgIF90aGlzLmxpc3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfdGhpcy5oYW5kbGVEcmFnRW5kTW91c2UpO1xuXG4gICAgICAgIF90aGlzLmxpc3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIF90aGlzLmhhbmRsZU1vdXNlTW92ZSk7XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlRHJhZ1N0YXJ0KGV2ZW50KTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaGFuZGxlRHJhZ1N0YXJ0VG91Y2hcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIF90aGlzLmhhbmRsZURyYWdFbmRUb3VjaCk7XG4gICAgICAgIHZhciB0b3VjaCA9IGV2ZW50LnRhcmdldFRvdWNoZXNbMF07XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlRHJhZ1N0YXJ0KHRvdWNoKTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaGFuZGxlRHJhZ1N0YXJ0XCIsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciBjbGllbnRYID0gX3JlZi5jbGllbnRYLFxuICAgICAgICAgICAgY2xpZW50WSA9IF9yZWYuY2xpZW50WTtcblxuICAgICAgICBpZiAoIV90aGlzLmxlYWRpbmdBY3Rpb25zT3BlbmVkICYmICFfdGhpcy50cmFpbGluZ0FjdGlvbnNPcGVuZWQpIHtcbiAgICAgICAgICBfdGhpcy5yZXNldFN0YXRlKCk7XG5cbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXJ0T2Zmc2V0WCA9IDA7XG5cbiAgICAgICAgaWYgKF90aGlzLmxlYWRpbmdBY3Rpb25zT3BlbmVkKSB7XG4gICAgICAgICAgc3RhcnRPZmZzZXRYID0gLV90aGlzLmxlYWRpbmdBY3Rpb25zV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMudHJhaWxpbmdBY3Rpb25zT3BlbmVkKSB7XG4gICAgICAgICAgc3RhcnRPZmZzZXRYID0gX3RoaXMudHJhaWxpbmdBY3Rpb25zV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5kcmFnU3RhcnRQb2ludCA9IHtcbiAgICAgICAgICB4OiBjbGllbnRYICsgc3RhcnRPZmZzZXRYLFxuICAgICAgICAgIHk6IGNsaWVudFlcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMubGlzdEVsZW1lbnQuY2xhc3NOYW1lID0gJ3N3aXBlYWJsZS1saXN0LWl0ZW1fX2NvbnRlbnQnO1xuXG4gICAgICAgIGlmIChfdGhpcy5sZWFkaW5nQWN0aW9uc0VsZW1lbnQpIHtcbiAgICAgICAgICBfdGhpcy5sZWFkaW5nQWN0aW9uc0VsZW1lbnQuY2xhc3NOYW1lID0gJ3N3aXBlYWJsZS1saXN0LWl0ZW1fX2xlYWRpbmctYWN0aW9ucyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMudHJhaWxpbmdBY3Rpb25zRWxlbWVudCkge1xuICAgICAgICAgIF90aGlzLnRyYWlsaW5nQWN0aW9uc0VsZW1lbnQuY2xhc3NOYW1lID0gJ3N3aXBlYWJsZS1saXN0LWl0ZW1fX3RyYWlsaW5nLWFjdGlvbnMnO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICBfdGhpcy5zY2hlZHVsZVVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImhhbmRsZU1vdXNlTW92ZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKF90aGlzLmRyYWdTdGFydGVkV2l0aGluSXRlbSgpKSB7XG4gICAgICAgICAgdmFyIGNsaWVudFggPSBldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgICBjbGllbnRZID0gZXZlbnQuY2xpZW50WTtcblxuICAgICAgICAgIF90aGlzLnNldERyYWdEaXJlY3Rpb24oY2xpZW50WCwgY2xpZW50WSk7XG5cbiAgICAgICAgICBpZiAoX3RoaXMuaXNTd2lwaW5nKCkpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIF90aGlzLmxlZnQgPSBjbGllbnRYIC0gX3RoaXMuZHJhZ1N0YXJ0UG9pbnQueDtcblxuICAgICAgICAgICAgX3RoaXMuc2NoZWR1bGVVcGRhdGVQb3NpdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJoYW5kbGVUb3VjaE1vdmVcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChfdGhpcy5kcmFnU3RhcnRlZFdpdGhpbkl0ZW0oKSkge1xuICAgICAgICAgIHZhciBfZXZlbnQkdGFyZ2V0VG91Y2hlcyQgPSBldmVudC50YXJnZXRUb3VjaGVzWzBdLFxuICAgICAgICAgICAgICBjbGllbnRYID0gX2V2ZW50JHRhcmdldFRvdWNoZXMkLmNsaWVudFgsXG4gICAgICAgICAgICAgIGNsaWVudFkgPSBfZXZlbnQkdGFyZ2V0VG91Y2hlcyQuY2xpZW50WTtcblxuICAgICAgICAgIF90aGlzLnNldERyYWdEaXJlY3Rpb24oY2xpZW50WCwgY2xpZW50WSk7XG5cbiAgICAgICAgICBpZiAoIWV2ZW50LmNhbmNlbGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoX3RoaXMuaXNTd2lwaW5nKCkpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIF90aGlzLmxlZnQgPSBjbGllbnRYIC0gX3RoaXMuZHJhZ1N0YXJ0UG9pbnQueDtcblxuICAgICAgICAgICAgX3RoaXMuc2NoZWR1bGVVcGRhdGVQb3NpdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJoYW5kbGVEcmFnRW5kTW91c2VcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF90aGlzLmhhbmRsZURyYWdFbmRNb3VzZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpcy5oYW5kbGVNb3VzZU1vdmUpO1xuXG4gICAgICAgIGlmIChfdGhpcy5saXN0RWxlbWVudCkge1xuICAgICAgICAgIF90aGlzLmxpc3RFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBfdGhpcy5oYW5kbGVEcmFnRW5kTW91c2UpO1xuXG4gICAgICAgICAgX3RoaXMubGlzdEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX3RoaXMuaGFuZGxlTW91c2VNb3ZlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmhhbmRsZURyYWdFbmQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaGFuZGxlRHJhZ0VuZFRvdWNoXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgX3RoaXMuaGFuZGxlRHJhZ0VuZFRvdWNoKTtcblxuICAgICAgICBfdGhpcy5oYW5kbGVEcmFnRW5kKCk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInBsYXlSZXR1cm5BbmltYXRpb25Gb3JMZWFkaW5nQWN0aW9uc1wiLCBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgdmFyIHRvID0gX3JlZjIudG8sXG4gICAgICAgICAgICBpc0lvc1R5cGUgPSBfcmVmMi5pc0lvc1R5cGUsXG4gICAgICAgICAgICBwbGF5TXNSZXR1cm5BbmltYXRpb24gPSBfcmVmMi5wbGF5TXNSZXR1cm5BbmltYXRpb247XG5cbiAgICAgICAgaWYgKF90aGlzLmxlYWRpbmdBY3Rpb25zRWxlbWVudCkge1xuICAgICAgICAgIF90aGlzLmxlYWRpbmdBY3Rpb25zRWxlbWVudC5jbGFzc05hbWUgPSBjbHN4KCdzd2lwZWFibGUtbGlzdC1pdGVtX19sZWFkaW5nLWFjdGlvbnMnLCBwbGF5TXNSZXR1cm5BbmltYXRpb24gPyAnc3dpcGVhYmxlLWxpc3QtaXRlbV9fYWN0aW9ucy0tcmV0dXJuLW1zJyA6ICdzd2lwZWFibGUtbGlzdC1pdGVtX19sZWFkaW5nLWFjdGlvbnMtLXJldHVybicpO1xuXG4gICAgICAgICAgaWYgKF90aGlzLmxlYWRpbmdBY3Rpb25zT3BlbmVkICYmIGlzSW9zVHlwZSkge1xuICAgICAgICAgICAgX3RoaXMubGVhZGluZ0FjdGlvbnNFbGVtZW50LmNsYXNzTmFtZSArPSAnIHRlc3QtYWN0aW9ucy1vcGVuZWQnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwbGF5TXNSZXR1cm5BbmltYXRpb24pIHtcbiAgICAgICAgICAgIHZhciBrZWVwQW5pbWF0aW9uRW5kID0gZnVuY3Rpb24ga2VlcEFuaW1hdGlvbkVuZCgpIHtcbiAgICAgICAgICAgICAgX3RoaXMubGVhZGluZ0FjdGlvbnNFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGtlZXBBbmltYXRpb25FbmQpO1xuXG4gICAgICAgICAgICAgIF90aGlzLmxlYWRpbmdBY3Rpb25zRWxlbWVudC5zdHlsZS53aWR0aCA9IDA7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBfdGhpcy5sZWFkaW5nQWN0aW9uc0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywga2VlcEFuaW1hdGlvbkVuZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmxlYWRpbmdBY3Rpb25zRWxlbWVudC5zdHlsZS53aWR0aCA9IFwiXCIuY29uY2F0KHRvID09PSAwIHx8ICFpc0lvc1R5cGUgPyAwIDogX3RoaXMubGVhZGluZ0FjdGlvbnNPcGVuZWQgJiYgaXNJb3NUeXBlID8gX3RoaXMubGVhZGluZ0FjdGlvbnNXaWR0aCA6IDAsIFwicHhcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInBsYXlSZXR1cm5BbmltYXRpb25Gb3JUcmFpbGluZ0FjdGlvbnNcIiwgZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICAgIHZhciB0byA9IF9yZWYzLnRvLFxuICAgICAgICAgICAgaXNJb3NUeXBlID0gX3JlZjMuaXNJb3NUeXBlLFxuICAgICAgICAgICAgcGxheU1zUmV0dXJuQW5pbWF0aW9uID0gX3JlZjMucGxheU1zUmV0dXJuQW5pbWF0aW9uO1xuXG4gICAgICAgIGlmIChfdGhpcy50cmFpbGluZ0FjdGlvbnNFbGVtZW50KSB7XG4gICAgICAgICAgX3RoaXMudHJhaWxpbmdBY3Rpb25zRWxlbWVudC5jbGFzc05hbWUgPSBjbHN4KCdzd2lwZWFibGUtbGlzdC1pdGVtX190cmFpbGluZy1hY3Rpb25zJywgcGxheU1zUmV0dXJuQW5pbWF0aW9uID8gJ3N3aXBlYWJsZS1saXN0LWl0ZW1fX2FjdGlvbnMtLXJldHVybi1tcycgOiAnc3dpcGVhYmxlLWxpc3QtaXRlbV9fdHJhaWxpbmctYWN0aW9ucy0tcmV0dXJuJyk7XG5cbiAgICAgICAgICBpZiAoX3RoaXMudHJhaWxpbmdBY3Rpb25zT3BlbmVkICYmIGlzSW9zVHlwZSkge1xuICAgICAgICAgICAgX3RoaXMudHJhaWxpbmdBY3Rpb25zRWxlbWVudC5jbGFzc05hbWUgKz0gJyB0ZXN0LWFjdGlvbnMtb3BlbmVkJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXBsYXlNc1JldHVybkFuaW1hdGlvbikge1xuICAgICAgICAgICAgX3RoaXMudHJhaWxpbmdBY3Rpb25zRWxlbWVudC5zdHlsZS53aWR0aCA9IFwiXCIuY29uY2F0KHRvID09PSAwIHx8ICFpc0lvc1R5cGUgPyAwIDogX3RoaXMudHJhaWxpbmdBY3Rpb25zT3BlbmVkICYmIGlzSW9zVHlwZSA/IF90aGlzLnRyYWlsaW5nQWN0aW9uc1dpZHRoIDogMCwgXCJweFwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGtlZXBBbmltYXRpb25FbmQgPSBmdW5jdGlvbiBrZWVwQW5pbWF0aW9uRW5kKCkge1xuICAgICAgICAgICAgICBfdGhpcy50cmFpbGluZ0FjdGlvbnNFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGtlZXBBbmltYXRpb25FbmQpO1xuXG4gICAgICAgICAgICAgIF90aGlzLnRyYWlsaW5nQWN0aW9uc0VsZW1lbnQuc3R5bGUud2lkdGggPSAwO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgX3RoaXMudHJhaWxpbmdBY3Rpb25zRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBrZWVwQW5pbWF0aW9uRW5kKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicGxheVJldHVybkFuaW1hdGlvblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcmVmNCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgICAgICBfcmVmNCR0byA9IF9yZWY0LnRvLFxuICAgICAgICAgICAgdG8gPSBfcmVmNCR0byA9PT0gdm9pZCAwID8gMCA6IF9yZWY0JHRvO1xuXG4gICAgICAgIHZhciBfYXNzZXJ0VGhpc0luaXRpYWxpemUgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSxcbiAgICAgICAgICAgIGxpc3RFbGVtZW50ID0gX2Fzc2VydFRoaXNJbml0aWFsaXplLmxpc3RFbGVtZW50O1xuXG4gICAgICAgIHZhciBsaXN0VHlwZSA9IF90aGlzLnByb3BzLmxpc3RUeXBlO1xuICAgICAgICB2YXIgdHJpZ2dlckFjdGlvbiA9IF90aGlzLnN0YXRlLnRyaWdnZXJBY3Rpb247XG4gICAgICAgIHZhciBpc0lvc1R5cGUgPSBsaXN0VHlwZSA9PT0gVHlwZS5JT1M7XG4gICAgICAgIHZhciBpc01zVHlwZSA9IGxpc3RUeXBlID09PSBUeXBlLk1TO1xuICAgICAgICB2YXIgcGxheU1zUmV0dXJuQW5pbWF0aW9uID0gdHJpZ2dlckFjdGlvbiAmJiBpc01zVHlwZTtcblxuICAgICAgICBpZiAocGxheU1zUmV0dXJuQW5pbWF0aW9uKSB7XG4gICAgICAgICAgdmFyIGtlZXBBbmltYXRpb25FbmQgPSBmdW5jdGlvbiBrZWVwQW5pbWF0aW9uRW5kKCkge1xuICAgICAgICAgICAgbGlzdEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywga2VlcEFuaW1hdGlvbkVuZCk7XG4gICAgICAgICAgICBsaXN0RWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVgoMClcIjtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgbGlzdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywga2VlcEFuaW1hdGlvbkVuZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdEVsZW1lbnQpIHtcbiAgICAgICAgICBsaXN0RWxlbWVudC5jbGFzc05hbWUgPSBjbHN4KCdzd2lwZWFibGUtbGlzdC1pdGVtX19jb250ZW50JywgcGxheU1zUmV0dXJuQW5pbWF0aW9uID8gXCJzd2lwZWFibGUtbGlzdC1pdGVtX19jb250ZW50LS1yZXR1cm4tXCIuY29uY2F0KF90aGlzLmxlZnQgPCAwID8gJ3RyYWlsaW5nJyA6ICdsZWFkaW5nJywgXCItbXNcIikgOiAnc3dpcGVhYmxlLWxpc3QtaXRlbV9fY29udGVudC0tcmV0dXJuJyk7XG5cbiAgICAgICAgICBpZiAoIXBsYXlNc1JldHVybkFuaW1hdGlvbikge1xuICAgICAgICAgICAgbGlzdEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiLmNvbmNhdChpc0lvc1R5cGUgPyB0byA6IDAsIFwicHgpXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfdGhpcy5sZWZ0IDwgMCkge1xuICAgICAgICAgIF90aGlzLnBsYXlSZXR1cm5BbmltYXRpb25Gb3JUcmFpbGluZ0FjdGlvbnMoe1xuICAgICAgICAgICAgdG86IHRvLFxuICAgICAgICAgICAgaXNJb3NUeXBlOiBpc0lvc1R5cGUsXG4gICAgICAgICAgICBwbGF5TXNSZXR1cm5BbmltYXRpb246IHBsYXlNc1JldHVybkFuaW1hdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzLnBsYXlSZXR1cm5BbmltYXRpb25Gb3JMZWFkaW5nQWN0aW9ucyh7XG4gICAgICAgICAgICB0bzogdG8sXG4gICAgICAgICAgICBpc0lvc1R5cGU6IGlzSW9zVHlwZSxcbiAgICAgICAgICAgIHBsYXlNc1JldHVybkFuaW1hdGlvbjogcGxheU1zUmV0dXJuQW5pbWF0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG8gPT09IDApIHtcbiAgICAgICAgICBfdGhpcy5sZWFkaW5nQWN0aW9uc09wZW5lZCA9IGZhbHNlO1xuICAgICAgICAgIF90aGlzLnRyYWlsaW5nQWN0aW9uc09wZW5lZCA9IGZhbHNlO1xuXG4gICAgICAgICAgX3RoaXMucmVzZXRTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInBsYXlSZW1vdmVBbmltYXRpb25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2Fzc2VydFRoaXNJbml0aWFsaXplMiA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLFxuICAgICAgICAgICAgbGlzdEVsZW1lbnQgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemUyLmxpc3RFbGVtZW50LFxuICAgICAgICAgICAgd3JhcHBlckVsZW1lbnQgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemUyLndyYXBwZXJFbGVtZW50O1xuXG4gICAgICAgIHZhciBsaXN0VHlwZSA9IF90aGlzLnByb3BzLmxpc3RUeXBlO1xuXG4gICAgICAgIGlmIChsaXN0RWxlbWVudCkge1xuICAgICAgICAgIHdyYXBwZXJFbGVtZW50LmNsYXNzTmFtZSA9ICdzd2lwZWFibGUtbGlzdC1pdGVtIHN3aXBlYWJsZS1saXN0LWl0ZW0tLXJlbW92ZSc7XG4gICAgICAgICAgbGlzdEVsZW1lbnQuY2xhc3NOYW1lID0gJ3N3aXBlYWJsZS1saXN0LWl0ZW1fX2NvbnRlbnQgc3dpcGVhYmxlLWxpc3QtaXRlbV9fY29udGVudC0tcmVtb3ZlJztcbiAgICAgICAgICB2YXIgaXNJb3NUeXBlID0gbGlzdFR5cGUgPT09IFR5cGUuSU9TO1xuICAgICAgICAgIHZhciBsZWFkaW5nRnVsbFN3aXBlID0gaXNJb3NUeXBlID8gX3RoaXMubGVhZGluZ0FjdGlvbnNPcGVuZWQgOiBfdGhpcy5kcmFnRGlyZWN0aW9uID09PSBEcmFnRGlyZWN0aW9uLlJJR0hUO1xuICAgICAgICAgIHZhciB0cmFpbGluZ0Z1bGxTd2lwZSA9IGlzSW9zVHlwZSA/IF90aGlzLnRyYWlsaW5nQWN0aW9uc09wZW5lZCA6IF90aGlzLmRyYWdEaXJlY3Rpb24gPT09IERyYWdEaXJlY3Rpb24uTEVGVDtcbiAgICAgICAgICB2YXIgdHJhbnNsYXRlTGVuZ3RoID0gbGlzdEVsZW1lbnQub2Zmc2V0V2lkdGggKiAobGVhZGluZ0Z1bGxTd2lwZSA/IDEgOiAtMSk7XG4gICAgICAgICAgbGlzdEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiLmNvbmNhdCh0cmFuc2xhdGVMZW5ndGgsIFwicHgpXCIpO1xuXG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbGVhZGluZ0Z1bGxTd2lwZTogbGVhZGluZ0Z1bGxTd2lwZSxcbiAgICAgICAgICAgIHRyYWlsaW5nRnVsbFN3aXBlOiB0cmFpbGluZ0Z1bGxTd2lwZVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGxlYWRpbmdGdWxsU3dpcGUpIHtcbiAgICAgICAgICAgIF90aGlzLmxlYWRpbmdBY3Rpb25zRWxlbWVudC5jbGFzc05hbWUgKz0gJyBzd2lwZWFibGUtbGlzdC1pdGVtX19sZWFkaW5nLWFjdGlvbnMtLXJldHVybic7XG4gICAgICAgICAgICBfdGhpcy5sZWFkaW5nQWN0aW9uc0VsZW1lbnQuc3R5bGUud2lkdGggPSBcIlwiLmNvbmNhdChNYXRoLmFicyh0cmFuc2xhdGVMZW5ndGgpLCBcInB4XCIpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHJhaWxpbmdGdWxsU3dpcGUpIHtcbiAgICAgICAgICAgIF90aGlzLnRyYWlsaW5nQWN0aW9uc0VsZW1lbnQuY2xhc3NOYW1lICs9ICcgc3dpcGVhYmxlLWxpc3QtaXRlbV9fdHJhaWxpbmctYWN0aW9ucy0tcmV0dXJuJztcbiAgICAgICAgICAgIF90aGlzLnRyYWlsaW5nQWN0aW9uc0VsZW1lbnQuc3R5bGUud2lkdGggPSBcIlwiLmNvbmNhdChNYXRoLmFicyh0cmFuc2xhdGVMZW5ndGgpLCBcInB4XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJwbGF5QWN0aW9uQW5pbWF0aW9uXCIsIGZ1bmN0aW9uIChfcmVmNSkge1xuICAgICAgICB2YXIgdHlwZSA9IF9yZWY1LnR5cGU7XG5cbiAgICAgICAgdmFyIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTMgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSxcbiAgICAgICAgICAgIGxpc3RFbGVtZW50ID0gX2Fzc2VydFRoaXNJbml0aWFsaXplMy5saXN0RWxlbWVudDtcblxuICAgICAgICBpZiAobGlzdEVsZW1lbnQpIHtcbiAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQWN0aW9uQW5pbWF0aW9uLlJFTU9WRTpcbiAgICAgICAgICAgICAgX3RoaXMucGxheVJlbW92ZUFuaW1hdGlvbigpO1xuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEFjdGlvbkFuaW1hdGlvbi5OT05FOlxuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgX3RoaXMucGxheVJldHVybkFuaW1hdGlvbigpO1xuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImhhbmRsZURyYWdFbmRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMucmVxdWVzdGVkQW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShfdGhpcy5yZXF1ZXN0ZWRBbmltYXRpb25GcmFtZSk7XG4gICAgICAgICAgX3RoaXMucmVxdWVzdGVkQW5pbWF0aW9uRnJhbWUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF90aGlzLmlzU3dpcGluZygpKSB7XG4gICAgICAgICAgdmFyIF90aGlzJHN0YXRlID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgICAgIGxlYWRpbmdGdWxsU3dpcGUgPSBfdGhpcyRzdGF0ZS5sZWFkaW5nRnVsbFN3aXBlLFxuICAgICAgICAgICAgICB0cmFpbGluZ0Z1bGxTd2lwZSA9IF90aGlzJHN0YXRlLnRyYWlsaW5nRnVsbFN3aXBlLFxuICAgICAgICAgICAgICB0cmlnZ2VyQWN0aW9uID0gX3RoaXMkc3RhdGUudHJpZ2dlckFjdGlvbjtcbiAgICAgICAgICB2YXIgb25Td2lwZUVuZCA9IF90aGlzLnByb3BzLm9uU3dpcGVFbmQ7XG5cbiAgICAgICAgICBpZiAob25Td2lwZUVuZCkge1xuICAgICAgICAgICAgb25Td2lwZUVuZCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0cmlnZ2VyQWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAobGVhZGluZ0Z1bGxTd2lwZSkge1xuICAgICAgICAgICAgICBfdGhpcy5sZWFkaW5nRnVsbFN3aXBlQWN0aW9uKCk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHJhaWxpbmdGdWxsU3dpcGUpIHtcbiAgICAgICAgICAgICAgX3RoaXMudHJhaWxpbmdGdWxsU3dpcGVBY3Rpb24oKTtcblxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKF90aGlzLmxlYWRpbmdBY3Rpb25zT3BlbmVkIHx8IF90aGlzLnRyYWlsaW5nQWN0aW9uc09wZW5lZCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmxlYWRpbmdBY3Rpb25zT3BlbmVkKSB7XG4gICAgICAgICAgICAgIF90aGlzLmxlZnQgPSBfdGhpcy5sZWFkaW5nQWN0aW9uc1dpZHRoO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpcy50cmFpbGluZ0FjdGlvbnNPcGVuZWQpIHtcbiAgICAgICAgICAgICAgX3RoaXMubGVmdCA9IC1fdGhpcy50cmFpbGluZ0FjdGlvbnNXaWR0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMucGxheVJldHVybkFuaW1hdGlvbih7XG4gICAgICAgICAgICAgIHRvOiBfdGhpcy5sZWZ0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMucGxheVJldHVybkFuaW1hdGlvbigpO1xuXG4gICAgICAgICAgICBfdGhpcy5yZXNldFN0YXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImRyYWdTdGFydGVkV2l0aGluSXRlbVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyRkcmFnU3RhcnRQb2ludCA9IF90aGlzLmRyYWdTdGFydFBvaW50LFxuICAgICAgICAgICAgeCA9IF90aGlzJGRyYWdTdGFydFBvaW50LngsXG4gICAgICAgICAgICB5ID0gX3RoaXMkZHJhZ1N0YXJ0UG9pbnQueTtcbiAgICAgICAgcmV0dXJuIHggIT09IC0xICYmIHkgIT09IC0xO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzZXREcmFnRGlyZWN0aW9uXCIsIGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmIChfdGhpcy5kcmFnRGlyZWN0aW9uID09PSBEcmFnRGlyZWN0aW9uLlVOS05PV04pIHtcbiAgICAgICAgICB2YXIgX3RoaXMkZHJhZ1N0YXJ0UG9pbnQyID0gX3RoaXMuZHJhZ1N0YXJ0UG9pbnQsXG4gICAgICAgICAgICAgIHN0YXJ0WCA9IF90aGlzJGRyYWdTdGFydFBvaW50Mi54LFxuICAgICAgICAgICAgICBzdGFydFkgPSBfdGhpcyRkcmFnU3RhcnRQb2ludDIueTtcbiAgICAgICAgICB2YXIgaG9yaXpvbnRhbERpc3RhbmNlID0gTWF0aC5hYnMoeCAtIHN0YXJ0WCk7XG4gICAgICAgICAgdmFyIHZlcnRpY2FsRGlzdGFuY2UgPSBNYXRoLmFicyh5IC0gc3RhcnRZKTtcblxuICAgICAgICAgIGlmIChob3Jpem9udGFsRGlzdGFuY2UgPD0gX3RoaXMuZHJhZ0hvcml6b250YWxEaXJlY3Rpb25UaHJlc2hvbGQgJiYgdmVydGljYWxEaXN0YW5jZSA8PSBfdGhpcy5kcmFnVmVydGljYWxEaXJlY3Rpb25UaHJlc2hvbGQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgYW5nbGUgPSBNYXRoLmF0YW4yKHkgLSBzdGFydFksIHggLSBzdGFydFgpO1xuICAgICAgICAgIHZhciBvY3RhbnQgPSBNYXRoLnJvdW5kKDggKiBhbmdsZSAvICgyICogTWF0aC5QSSkgKyA4KSAlIDg7XG5cbiAgICAgICAgICBzd2l0Y2ggKG9jdGFudCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBpZiAoX3RoaXMubGVhZGluZ0FjdGlvbnNFbGVtZW50ICE9PSBudWxsICYmIGhvcml6b250YWxEaXN0YW5jZSA+IF90aGlzLmRyYWdIb3Jpem9udGFsRGlyZWN0aW9uVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZHJhZ0RpcmVjdGlvbiA9IERyYWdEaXJlY3Rpb24uUklHSFQ7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBpZiAodmVydGljYWxEaXN0YW5jZSA+IF90aGlzLmRyYWdWZXJ0aWNhbERpcmVjdGlvblRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmRyYWdEaXJlY3Rpb24gPSBEcmFnRGlyZWN0aW9uLkRPV047XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBpZiAoX3RoaXMudHJhaWxpbmdBY3Rpb25zRWxlbWVudCAhPT0gbnVsbCAmJiBob3Jpem9udGFsRGlzdGFuY2UgPiBfdGhpcy5kcmFnSG9yaXpvbnRhbERpcmVjdGlvblRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmRyYWdEaXJlY3Rpb24gPSBEcmFnRGlyZWN0aW9uLkxFRlQ7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICBpZiAodmVydGljYWxEaXN0YW5jZSA+IF90aGlzLmRyYWdWZXJ0aWNhbERpcmVjdGlvblRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmRyYWdEaXJlY3Rpb24gPSBEcmFnRGlyZWN0aW9uLlVQO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIF90aGlzLmRyYWdEaXJlY3Rpb24gPSBEcmFnRGlyZWN0aW9uLlVOS05PV047XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG9uU3dpcGVTdGFydCA9IF90aGlzLnByb3BzLm9uU3dpcGVTdGFydDtcblxuICAgICAgICAgIGlmIChvblN3aXBlU3RhcnQgJiYgX3RoaXMuaXNTd2lwaW5nKCkpIHtcbiAgICAgICAgICAgIG9uU3dpcGVTdGFydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJpc1N3aXBpbmdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYmxvY2tTd2lwZSA9IF90aGlzLnByb3BzLmJsb2NrU3dpcGU7XG4gICAgICAgIHZhciBob3Jpem9udGFsRHJhZyA9IF90aGlzLmRyYWdEaXJlY3Rpb24gPT09IERyYWdEaXJlY3Rpb24uTEVGVCB8fCBfdGhpcy5kcmFnRGlyZWN0aW9uID09PSBEcmFnRGlyZWN0aW9uLlJJR0hUO1xuICAgICAgICByZXR1cm4gIWJsb2NrU3dpcGUgJiYgX3RoaXMuZHJhZ1N0YXJ0ZWRXaXRoaW5JdGVtKCkgJiYgaG9yaXpvbnRhbERyYWc7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNjaGVkdWxlVXBkYXRlUG9zaXRpb25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMucmVxdWVzdGVkQW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5yZXF1ZXN0ZWRBbmltYXRpb25GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMucmVxdWVzdGVkQW5pbWF0aW9uRnJhbWUgPSBudWxsO1xuXG4gICAgICAgICAgX3RoaXMudXBkYXRlUG9zaXRpb24oKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInVwZGF0ZVBvc2l0aW9uXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFfdGhpcy5pc1N3aXBpbmcoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIF90aGlzLnN0YXJ0VGltZTtcblxuICAgICAgICBpZiAoZWxhcHNlZCA8PSBGUFNfSU5URVJWQUwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGZ1bGxTd2lwZVRocmVzaG9sZCA9IF90aGlzJHByb3BzLnRocmVzaG9sZCxcbiAgICAgICAgICAgIGxpc3RUeXBlID0gX3RoaXMkcHJvcHMubGlzdFR5cGU7XG4gICAgICAgIHZhciBmdWxsU3dpcGUgPSBfdGhpcy5mdWxsU3dpcGU7XG4gICAgICAgIHZhciBpc1N3aXBpbmdMZWZ0ID0gX3RoaXMubGVmdCA8IDA7XG4gICAgICAgIHZhciBpc1N3aXBpbmdSaWdodCA9IF90aGlzLmxlZnQgPiAwO1xuXG4gICAgICAgIGlmIChpc1N3aXBpbmdMZWZ0KSB7XG4gICAgICAgICAgaWYgKF90aGlzLm9ubHlMZWFkaW5nQWN0aW9ucykge1xuICAgICAgICAgICAgX3RoaXMubGVmdCA9IDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKF90aGlzLnRyYWlsaW5nQWN0aW9uc0VsZW1lbnQgJiYgbGlzdFR5cGUgPT09IFR5cGUuSU9TKSB7XG4gICAgICAgICAgICBfdGhpcy50cmFpbGluZ0FjdGlvbnNPcGVuZWQgPSBNYXRoLmFicyhfdGhpcy5sZWZ0KSA+IF90aGlzLnRyYWlsaW5nQWN0aW9uc1dpZHRoO1xuICAgICAgICAgICAgX3RoaXMubGVhZGluZ0FjdGlvbnNPcGVuZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNTd2lwaW5nUmlnaHQpIHtcbiAgICAgICAgICBpZiAoX3RoaXMub25seVRyYWlsaW5nQWN0aW9ucykge1xuICAgICAgICAgICAgX3RoaXMubGVmdCA9IDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKF90aGlzLmxlYWRpbmdBY3Rpb25zRWxlbWVudCAmJiBsaXN0VHlwZSA9PT0gVHlwZS5JT1MpIHtcbiAgICAgICAgICAgIF90aGlzLmxlYWRpbmdBY3Rpb25zT3BlbmVkID0gX3RoaXMubGVmdCA+IF90aGlzLmxlYWRpbmdBY3Rpb25zV2lkdGg7XG4gICAgICAgICAgICBfdGhpcy50cmFpbGluZ0FjdGlvbnNPcGVuZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXMubGVhZGluZ0FjdGlvbnNFbGVtZW50KSB7XG4gICAgICAgICAgX3RoaXMubGVhZGluZ0FjdGlvbnNFbGVtZW50LnN0eWxlLndpZHRoID0gXCJcIi5jb25jYXQoX3RoaXMubGVmdCA8IDAgPyAwIDogX3RoaXMubGVmdCwgXCJweFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfdGhpcy50cmFpbGluZ0FjdGlvbnNFbGVtZW50KSB7XG4gICAgICAgICAgX3RoaXMudHJhaWxpbmdBY3Rpb25zRWxlbWVudC5zdHlsZS53aWR0aCA9IFwiXCIuY29uY2F0KF90aGlzLmxlZnQgPiAwID8gMCA6IC1fdGhpcy5sZWZ0LCBcInB4XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF90aGlzLmxpc3RFbGVtZW50KSB7XG4gICAgICAgICAgaWYgKGZ1bGxTd2lwZSkge1xuICAgICAgICAgICAgdmFyIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTQgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSxcbiAgICAgICAgICAgICAgICBvZmZzZXRXaWR0aCA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTQubGlzdEVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICAgICAgICAgIHZhciB0aHJlc2hvbGQgPSBvZmZzZXRXaWR0aCAqIGZ1bGxTd2lwZVRocmVzaG9sZDtcblxuICAgICAgICAgICAgaWYgKF90aGlzLmxlZnQgPCAtdGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBsZWFkaW5nRnVsbFN3aXBlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0cmFpbGluZ0Z1bGxTd2lwZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0cmlnZ2VyQWN0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNjYWxlVHJhaWxpbmc6IHRydWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzLmxlZnQgPiB0aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGxlYWRpbmdGdWxsU3dpcGU6IHRydWUsXG4gICAgICAgICAgICAgICAgdHJhaWxpbmdGdWxsU3dpcGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRyaWdnZXJBY3Rpb246IHRydWUsXG4gICAgICAgICAgICAgICAgc2NhbGVMZWFkaW5nOiB0cnVlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNjYWxlTGVhZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2NhbGVUcmFpbGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHJpZ2dlckFjdGlvbjogZmFsc2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMubGlzdEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKFwiLmNvbmNhdChfdGhpcy5sZWZ0LCBcInB4KVwiKTtcblxuICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5vblN3aXBlUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHZhciBsaXN0RWxlbWVudFdpZHRoID0gX3RoaXMubGlzdEVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICB2YXIgc3dpcGVEaXN0YW5jZVBlcmNlbnQgPSBfdGhpcy5wcmV2aW91c1N3aXBlRGlzdGFuY2VQZXJjZW50O1xuXG4gICAgICAgICAgICBpZiAobGlzdEVsZW1lbnRXaWR0aCAhPT0gMCkge1xuICAgICAgICAgICAgICB2YXIgc3dpcGVEaXN0YW5jZSA9IE1hdGgubWF4KDAsIGxpc3RFbGVtZW50V2lkdGggLSBNYXRoLmFicyhfdGhpcy5sZWZ0KSk7XG4gICAgICAgICAgICAgIHN3aXBlRGlzdGFuY2VQZXJjZW50ID0gMTAwIC0gTWF0aC5yb3VuZCgxMDAgKiBzd2lwZURpc3RhbmNlIC8gbGlzdEVsZW1lbnRXaWR0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfdGhpcy5wcmV2aW91c1N3aXBlRGlzdGFuY2VQZXJjZW50ICE9PSBzd2lwZURpc3RhbmNlUGVyY2VudCkge1xuICAgICAgICAgICAgICBfdGhpcy5wcm9wcy5vblN3aXBlUHJvZ3Jlc3Moc3dpcGVEaXN0YW5jZVBlcmNlbnQpO1xuXG4gICAgICAgICAgICAgIF90aGlzLnByZXZpb3VzU3dpcGVEaXN0YW5jZVBlcmNlbnQgPSBzd2lwZURpc3RhbmNlUGVyY2VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5zdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkFjdGlvblRyaWdnZXJlZFwiLCBmdW5jdGlvbiAoaXNEZXN0cnVjdGl2ZSkge1xuICAgICAgICBfdGhpcy5wbGF5QWN0aW9uQW5pbWF0aW9uKHtcbiAgICAgICAgICB0eXBlOiBpc0Rlc3RydWN0aXZlID8gQWN0aW9uQW5pbWF0aW9uLlJFTU9WRSA6IEFjdGlvbkFuaW1hdGlvbi5SRVRVUk5cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImJpbmRMaXN0RWxlbWVudFwiLCBmdW5jdGlvbiAocmVmKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5saXN0RWxlbWVudCA9IHJlZjtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiYmluZFdyYXBwZXJFbGVtZW50XCIsIGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLndyYXBwZXJFbGVtZW50ID0gcmVmO1xuICAgICAgfSk7XG5cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJiaW5kTGVhZGluZ0FjdGlvbnNFbGVtZW50XCIsIGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmxlYWRpbmdBY3Rpb25zRWxlbWVudCA9IHJlZjtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiYmluZFRyYWlsaW5nQWN0aW9uc0VsZW1lbnRcIiwgZnVuY3Rpb24gKHJlZikge1xuICAgICAgICByZXR1cm4gX3RoaXMudHJhaWxpbmdBY3Rpb25zRWxlbWVudCA9IHJlZjtcbiAgICAgIH0pO1xuXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicmVuZGVyQWN0aW9uc1wiLCBmdW5jdGlvbiAoYWN0aW9ucywgdHlwZSwgYmluZGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGRlc3RydWN0aXZlQ2FsbGJhY2tEZWxheSA9IF90aGlzJHByb3BzMi5kZXN0cnVjdGl2ZUNhbGxiYWNrRGVsYXksXG4gICAgICAgICAgICBsaXN0VHlwZSA9IF90aGlzJHByb3BzMi5saXN0VHlwZTtcbiAgICAgICAgdmFyIF90aGlzJHN0YXRlMiA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgICAgbGVhZGluZ0Z1bGxTd2lwZSA9IF90aGlzJHN0YXRlMi5sZWFkaW5nRnVsbFN3aXBlLFxuICAgICAgICAgICAgdHJhaWxpbmdGdWxsU3dpcGUgPSBfdGhpcyRzdGF0ZTIudHJhaWxpbmdGdWxsU3dpcGUsXG4gICAgICAgICAgICBzY2FsZUxlYWRpbmcgPSBfdGhpcyRzdGF0ZTIuc2NhbGVMZWFkaW5nLFxuICAgICAgICAgICAgc2NhbGVUcmFpbGluZyA9IF90aGlzJHN0YXRlMi5zY2FsZVRyYWlsaW5nO1xuXG4gICAgICAgIHZhciBfYXNzZXJ0VGhpc0luaXRpYWxpemU1ID0gX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksXG4gICAgICAgICAgICBvbkFjdGlvblRyaWdnZXJlZCA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZTUub25BY3Rpb25UcmlnZ2VyZWQsXG4gICAgICAgICAgICBzZXRMZWFkaW5nRnVsbFN3aXBlQWN0aW9uID0gX2Fzc2VydFRoaXNJbml0aWFsaXplNS5zZXRMZWFkaW5nRnVsbFN3aXBlQWN0aW9uLFxuICAgICAgICAgICAgc2V0VHJhaWxpbmdGdWxsU3dpcGVBY3Rpb24gPSBfYXNzZXJ0VGhpc0luaXRpYWxpemU1LnNldFRyYWlsaW5nRnVsbFN3aXBlQWN0aW9uO1xuXG4gICAgICAgIHZhciBzY2FsZWQgPSBsaXN0VHlwZSA9PT0gVHlwZS5NUyAmJiAoc2NhbGVMZWFkaW5nICYmIHR5cGUgPT09ICdsZWFkaW5nJyB8fCBzY2FsZVRyYWlsaW5nICYmIHR5cGUgPT09ICd0cmFpbGluZycpO1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNsc3goXCJzd2lwZWFibGUtbGlzdC1pdGVtX19cIi5jb25jYXQodHlwZSwgXCItYWN0aW9uc1wiKSwgX2RlZmluZVByb3BlcnR5KHt9LCBcInN3aXBlYWJsZS1saXN0LWl0ZW1fX1wiLmNvbmNhdCh0eXBlLCBcIi1hY3Rpb25zLS1zY2FsZWRcIiksIHNjYWxlZCkpLFxuICAgICAgICAgIFwiZGF0YS10ZXN0aWRcIjogXCJcIi5jb25jYXQodHlwZSwgXCItYWN0aW9uc1wiKSxcbiAgICAgICAgICByZWY6IGJpbmRlclxuICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoSXRlbUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgZGVzdHJ1Y3RpdmVDYWxsYmFja0RlbGF5OiBkZXN0cnVjdGl2ZUNhbGxiYWNrRGVsYXksXG4gICAgICAgICAgICBsaXN0VHlwZTogbGlzdFR5cGUsXG4gICAgICAgICAgICBsZWFkaW5nRnVsbFN3aXBlOiBsZWFkaW5nRnVsbFN3aXBlLFxuICAgICAgICAgICAgb25BY3Rpb25UcmlnZ2VyZWQ6IG9uQWN0aW9uVHJpZ2dlcmVkLFxuICAgICAgICAgICAgc2NhbGVMZWFkaW5nOiBzY2FsZUxlYWRpbmcsXG4gICAgICAgICAgICBzY2FsZVRyYWlsaW5nOiBzY2FsZVRyYWlsaW5nLFxuICAgICAgICAgICAgc2V0TGVhZGluZ0Z1bGxTd2lwZUFjdGlvbjogc2V0TGVhZGluZ0Z1bGxTd2lwZUFjdGlvbixcbiAgICAgICAgICAgIHNldFRyYWlsaW5nRnVsbFN3aXBlQWN0aW9uOiBzZXRUcmFpbGluZ0Z1bGxTd2lwZUFjdGlvbixcbiAgICAgICAgICAgIHRyYWlsaW5nRnVsbFN3aXBlOiB0cmFpbGluZ0Z1bGxTd2lwZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgYWN0aW9ucykpO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLnN0YXRlID0gaW5pdGlhbFN0YXRlOyAvLyBiaW5kZWQgZWxlbWVudHNcblxuICAgICAgX3RoaXMubGlzdEVsZW1lbnQgPSBudWxsO1xuICAgICAgX3RoaXMubGVhZGluZ0FjdGlvbnNFbGVtZW50ID0gbnVsbDtcbiAgICAgIF90aGlzLnRyYWlsaW5nQWN0aW9uc0VsZW1lbnQgPSBudWxsO1xuICAgICAgX3RoaXMud3JhcHBlckVsZW1lbnQgPSBudWxsO1xuICAgICAgX3RoaXMucmVxdWVzdGVkQW5pbWF0aW9uRnJhbWUgPSBudWxsO1xuICAgICAgX3RoaXMubGVhZGluZ0FjdGlvbnNXaWR0aCA9IDA7XG4gICAgICBfdGhpcy50cmFpbGluZ0FjdGlvbnNXaWR0aCA9IDA7XG4gICAgICBfdGhpcy5zdGFydFRpbWUgPSBudWxsO1xuICAgICAgX3RoaXMucHJldmlvdXNTd2lwZURpc3RhbmNlUGVyY2VudCA9IDA7XG4gICAgICBfdGhpcy5sZWFkaW5nRnVsbFN3aXBlQWN0aW9uID0gbnVsbDtcbiAgICAgIF90aGlzLnRyYWlsaW5nRnVsbFN3aXBlQWN0aW9uID0gbnVsbDtcblxuICAgICAgX3RoaXMucmVzZXRTdGF0ZSgpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFN3aXBlYWJsZUxpc3RJdGVtLCBbe1xuICAgICAga2V5OiBcImRyYWdIb3Jpem9udGFsRGlyZWN0aW9uVGhyZXNob2xkXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuc3dpcGVTdGFydFRocmVzaG9sZCB8fCAxMDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZHJhZ1ZlcnRpY2FsRGlyZWN0aW9uVGhyZXNob2xkXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuc2Nyb2xsU3RhcnRUaHJlc2hvbGQgfHwgMTA7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImZ1bGxTd2lwZVwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHZhciBfdGhpcyRwcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgZnVsbFN3aXBlID0gX3RoaXMkcHJvcHMzLmZ1bGxTd2lwZSxcbiAgICAgICAgICAgIGxpc3RUeXBlID0gX3RoaXMkcHJvcHMzLmxpc3RUeXBlO1xuXG4gICAgICAgIGlmIChsaXN0VHlwZSA9PT0gVHlwZS5JT1MpIHtcbiAgICAgICAgICByZXR1cm4gZnVsbFN3aXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMubGlzdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVEcmFnU3RhcnRNb3VzZSk7XG4gICAgICAgIHRoaXMubGlzdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuaGFuZGxlRHJhZ1N0YXJ0VG91Y2gpO1xuICAgICAgICB0aGlzLmxpc3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5oYW5kbGVEcmFnRW5kVG91Y2gpO1xuICAgICAgICB0aGlzLmxpc3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuaGFuZGxlVG91Y2hNb3ZlLCB7XG4gICAgICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5sZWFkaW5nQWN0aW9uc0VsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLmxlYWRpbmdBY3Rpb25zV2lkdGggPSBtZWFzdXJlKHRoaXMubGVhZGluZ0FjdGlvbnNFbGVtZW50LCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBlbC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnRyYWlsaW5nQWN0aW9uc0VsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLnRyYWlsaW5nQWN0aW9uc1dpZHRoID0gbWVhc3VyZSh0aGlzLnRyYWlsaW5nQWN0aW9uc0VsZW1lbnQsIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsLm9mZnNldFdpZHRoO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlcXVlc3RlZEFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5yZXF1ZXN0ZWRBbmltYXRpb25GcmFtZSk7XG4gICAgICAgICAgdGhpcy5yZXF1ZXN0ZWRBbmltYXRpb25GcmFtZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxpc3RFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlRHJhZ1N0YXJ0TW91c2UpO1xuICAgICAgICB0aGlzLmxpc3RFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLmhhbmRsZURyYWdTdGFydFRvdWNoKTtcbiAgICAgICAgdGhpcy5saXN0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuaGFuZGxlRHJhZ0VuZFRvdWNoKTtcbiAgICAgICAgdGhpcy5saXN0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLmhhbmRsZVRvdWNoTW92ZSwge1xuICAgICAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIm9ubHlMZWFkaW5nQWN0aW9uc1wiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlYWRpbmdBY3Rpb25zRWxlbWVudCAhPT0gbnVsbCAmJiB0aGlzLnRyYWlsaW5nQWN0aW9uc0VsZW1lbnQgPT09IG51bGw7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIm9ubHlUcmFpbGluZ0FjdGlvbnNcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZWFkaW5nQWN0aW9uc0VsZW1lbnQgPT09IG51bGwgJiYgdGhpcy50cmFpbGluZ0FjdGlvbnNFbGVtZW50ICE9PSBudWxsO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZW5kZXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczQuY2hpbGRyZW4sXG4gICAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wczQuY2xhc3NOYW1lLFxuICAgICAgICAgICAgbGVhZGluZ0FjdGlvbnMgPSBfdGhpcyRwcm9wczQubGVhZGluZ0FjdGlvbnMsXG4gICAgICAgICAgICB0cmFpbGluZ0FjdGlvbnMgPSBfdGhpcyRwcm9wczQudHJhaWxpbmdBY3Rpb25zLFxuICAgICAgICAgICAgb25DbGljayA9IF90aGlzJHByb3BzNC5vbkNsaWNrO1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0W1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNsc3goJ3N3aXBlYWJsZS1saXN0LWl0ZW0nLCBjbGFzc05hbWUpLFxuICAgICAgICAgIHJlZjogdGhpcy5iaW5kV3JhcHBlckVsZW1lbnQsXG4gICAgICAgICAgb25DbGljazogdGhpcy5sZWFkaW5nQWN0aW9uc09wZW5lZCB8fCB0aGlzLnRyYWlsaW5nQWN0aW9uc09wZW5lZCA/IHVuZGVmaW5lZCA6IG9uQ2xpY2tcbiAgICAgICAgfSwgbGVhZGluZ0FjdGlvbnMgJiYgdGhpcy5yZW5kZXJBY3Rpb25zKGxlYWRpbmdBY3Rpb25zLCAnbGVhZGluZycsIHRoaXMuYmluZExlYWRpbmdBY3Rpb25zRWxlbWVudCksIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcInN3aXBlYWJsZS1saXN0LWl0ZW1fX2NvbnRlbnRcIixcbiAgICAgICAgICBcImRhdGEtdGVzdGlkXCI6IFwiY29udGVudFwiLFxuICAgICAgICAgIHJlZjogdGhpcy5iaW5kTGlzdEVsZW1lbnRcbiAgICAgICAgfSwgY2hpbGRyZW4pLCB0cmFpbGluZ0FjdGlvbnMgJiYgdGhpcy5yZW5kZXJBY3Rpb25zKHRyYWlsaW5nQWN0aW9ucywgJ3RyYWlsaW5nJywgdGhpcy5iaW5kVHJhaWxpbmdBY3Rpb25zRWxlbWVudCkpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTd2lwZWFibGVMaXN0SXRlbTtcbiAgfShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuICBTd2lwZWFibGVMaXN0SXRlbS5wcm9wVHlwZXMgPSB7XG4gICAgYmxvY2tTd2lwZTogUHJvcFR5cGVzX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5ib29sLFxuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXNfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLm5vZGUsXG4gICAgY2xhc3NOYW1lOiBQcm9wVHlwZXNfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLnN0cmluZyxcbiAgICBkZXN0cnVjdGl2ZUNhbGxiYWNrRGVsYXk6IFByb3BUeXBlc19fZGVmYXVsdFtcImRlZmF1bHRcIl0ubnVtYmVyLFxuICAgIGZ1bGxTd2lwZTogUHJvcFR5cGVzX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5ib29sLFxuICAgIGxlYWRpbmdBY3Rpb25zOiBQcm9wVHlwZXNfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLm5vZGUsXG4gICAgbGlzdFR5cGU6IFByb3BUeXBlc19fZGVmYXVsdFtcImRlZmF1bHRcIl0ub25lT2YoT2JqZWN0LnZhbHVlcyhUeXBlKSksXG4gICAgb25DbGljazogUHJvcFR5cGVzX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mdW5jLFxuICAgIG9uU3dpcGVFbmQ6IFByb3BUeXBlc19fZGVmYXVsdFtcImRlZmF1bHRcIl0uZnVuYyxcbiAgICBvblN3aXBlUHJvZ3Jlc3M6IFByb3BUeXBlc19fZGVmYXVsdFtcImRlZmF1bHRcIl0uZnVuYyxcbiAgICBvblN3aXBlU3RhcnQ6IFByb3BUeXBlc19fZGVmYXVsdFtcImRlZmF1bHRcIl0uZnVuYyxcbiAgICBzY3JvbGxTdGFydFRocmVzaG9sZDogUHJvcFR5cGVzX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5udW1iZXIsXG4gICAgc3dpcGVTdGFydFRocmVzaG9sZDogUHJvcFR5cGVzX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5udW1iZXIsXG4gICAgdGhyZXNob2xkOiBQcm9wVHlwZXNfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLm51bWJlcixcbiAgICB0cmFpbGluZ0FjdGlvbnM6IFByb3BUeXBlc19fZGVmYXVsdFtcImRlZmF1bHRcIl0ubm9kZVxuICB9O1xuXG4gIHZhciBTd2lwZUFjdGlvbiA9IGZ1bmN0aW9uIFN3aXBlQWN0aW9uKF9yZWYpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgICAgX3JlZiRkZXN0cnVjdGl2ZSA9IF9yZWYuZGVzdHJ1Y3RpdmUsXG4gICAgICAgIGRlc3RydWN0aXZlID0gX3JlZiRkZXN0cnVjdGl2ZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGRlc3RydWN0aXZlLFxuICAgICAgICBfcmVmJG1haW4gPSBfcmVmLm1haW4sXG4gICAgICAgIG1haW4gPSBfcmVmJG1haW4gPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZiRtYWluLFxuICAgICAgICBsZWFkaW5nID0gX3JlZi5sZWFkaW5nLFxuICAgICAgICBvbkNsaWNrID0gX3JlZi5vbkNsaWNrLFxuICAgICAgICB0cmFpbGluZyA9IF9yZWYudHJhaWxpbmcsXG4gICAgICAgIF9yZWYkVGFnID0gX3JlZi5UYWcsXG4gICAgICAgIFRhZyA9IF9yZWYkVGFnID09PSB2b2lkIDAgPyAnc3BhbicgOiBfcmVmJFRhZztcblxuICAgIHZhciBfUmVhY3QkdXNlQ29udGV4dCA9IFJlYWN0X19kZWZhdWx0W1wiZGVmYXVsdFwiXS51c2VDb250ZXh0KEl0ZW1Db250ZXh0KSxcbiAgICAgICAgZGVzdHJ1Y3RpdmVDYWxsYmFja0RlbGF5ID0gX1JlYWN0JHVzZUNvbnRleHQuZGVzdHJ1Y3RpdmVDYWxsYmFja0RlbGF5LFxuICAgICAgICBsZWFkaW5nRnVsbFN3aXBlID0gX1JlYWN0JHVzZUNvbnRleHQubGVhZGluZ0Z1bGxTd2lwZSxcbiAgICAgICAgbGlzdFR5cGUgPSBfUmVhY3QkdXNlQ29udGV4dC5saXN0VHlwZSxcbiAgICAgICAgb25BY3Rpb25UcmlnZ2VyZWQgPSBfUmVhY3QkdXNlQ29udGV4dC5vbkFjdGlvblRyaWdnZXJlZCxcbiAgICAgICAgc2V0TGVhZGluZ0Z1bGxTd2lwZUFjdGlvbiA9IF9SZWFjdCR1c2VDb250ZXh0LnNldExlYWRpbmdGdWxsU3dpcGVBY3Rpb24sXG4gICAgICAgIHNldFRyYWlsaW5nRnVsbFN3aXBlQWN0aW9uID0gX1JlYWN0JHVzZUNvbnRleHQuc2V0VHJhaWxpbmdGdWxsU3dpcGVBY3Rpb24sXG4gICAgICAgIHRyYWlsaW5nRnVsbFN3aXBlID0gX1JlYWN0JHVzZUNvbnRleHQudHJhaWxpbmdGdWxsU3dpcGUsXG4gICAgICAgIHNjYWxlTGVhZGluZyA9IF9SZWFjdCR1c2VDb250ZXh0LnNjYWxlTGVhZGluZyxcbiAgICAgICAgc2NhbGVUcmFpbGluZyA9IF9SZWFjdCR1c2VDb250ZXh0LnNjYWxlVHJhaWxpbmc7XG5cbiAgICB2YXIgb25IYW5kbGVDbGljayA9IFJlYWN0X19kZWZhdWx0W1wiZGVmYXVsdFwiXS51c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgICBvbkFjdGlvblRyaWdnZXJlZChkZXN0cnVjdGl2ZSk7XG5cbiAgICAgIGlmIChkZXN0cnVjdGl2ZSkge1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG9uQ2xpY2soKTtcbiAgICAgICAgfSwgZGVzdHJ1Y3RpdmVDYWxsYmFja0RlbGF5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uQ2xpY2soKTtcbiAgICAgIH1cbiAgICB9LCBbZGVzdHJ1Y3RpdmUsIGRlc3RydWN0aXZlQ2FsbGJhY2tEZWxheSwgb25BY3Rpb25UcmlnZ2VyZWQsIG9uQ2xpY2tdKTtcbiAgICBSZWFjdF9fZGVmYXVsdFtcImRlZmF1bHRcIl0udXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChsZWFkaW5nICYmIG1haW4pIHtcbiAgICAgICAgc2V0TGVhZGluZ0Z1bGxTd2lwZUFjdGlvbihvbkhhbmRsZUNsaWNrKTtcbiAgICAgIH1cbiAgICB9LCBbbGVhZGluZywgbWFpbiwgb25IYW5kbGVDbGljaywgc2V0TGVhZGluZ0Z1bGxTd2lwZUFjdGlvbl0pO1xuICAgIFJlYWN0X19kZWZhdWx0W1wiZGVmYXVsdFwiXS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRyYWlsaW5nICYmIG1haW4pIHtcbiAgICAgICAgc2V0VHJhaWxpbmdGdWxsU3dpcGVBY3Rpb24ob25IYW5kbGVDbGljayk7XG4gICAgICB9XG4gICAgfSwgW3RyYWlsaW5nLCBtYWluLCBvbkhhbmRsZUNsaWNrLCBzZXRUcmFpbGluZ0Z1bGxTd2lwZUFjdGlvbl0pO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoVGFnLCB7XG4gICAgICBjbGFzc05hbWU6IGNsc3goJ3N3aXBlLWFjdGlvbicsIHtcbiAgICAgICAgJ3N3aXBlLWFjdGlvbl9fbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgICAgICdzd2lwZS1hY3Rpb25fX3RyYWlsaW5nJzogdHJhaWxpbmcsXG4gICAgICAgICdzd2lwZS1hY3Rpb25fX2xlYWRpbmctLWZ1bGwtc3dpcGUtcmVzdCc6IGxlYWRpbmcgJiYgbGVhZGluZ0Z1bGxTd2lwZSAmJiAhbWFpbiAmJiBsaXN0VHlwZSA9PT0gVHlwZS5JT1MsXG4gICAgICAgICdzd2lwZS1hY3Rpb25fX2xlYWRpbmctLWZ1bGwtc3dpcGUtbWFpbic6IGxlYWRpbmcgJiYgbGVhZGluZ0Z1bGxTd2lwZSAmJiBtYWluICYmIGxpc3RUeXBlID09PSBUeXBlLklPUyxcbiAgICAgICAgJ3N3aXBlLWFjdGlvbl9fdHJhaWxpbmctLWZ1bGwtc3dpcGUtcmVzdCc6IHRyYWlsaW5nICYmIHRyYWlsaW5nRnVsbFN3aXBlICYmICFtYWluICYmIGxpc3RUeXBlID09PSBUeXBlLklPUyxcbiAgICAgICAgJ3N3aXBlLWFjdGlvbl9fdHJhaWxpbmctLWZ1bGwtc3dpcGUtbWFpbic6IHRyYWlsaW5nICYmIHRyYWlsaW5nRnVsbFN3aXBlICYmIG1haW4gJiYgbGlzdFR5cGUgPT09IFR5cGUuSU9TLFxuICAgICAgICAnc3dpcGUtYWN0aW9uX19ncmF5ZWQnOiBsaXN0VHlwZSA9PT0gVHlwZS5NUyAmJiAhKHNjYWxlTGVhZGluZyB8fCBzY2FsZVRyYWlsaW5nKVxuICAgICAgfSwgY2xhc3NOYW1lKSxcbiAgICAgIG9uQ2xpY2s6IG9uSGFuZGxlQ2xpY2tcbiAgICB9LCBjaGlsZHJlbik7XG4gIH07XG5cbiAgU3dpcGVBY3Rpb24ucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXNfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLm5vZGUuaXNSZXF1aXJlZCxcbiAgICBjbGFzc05hbWU6IFByb3BUeXBlc19fZGVmYXVsdFtcImRlZmF1bHRcIl0uc3RyaW5nLFxuICAgIGRlc3RydWN0aXZlOiBQcm9wVHlwZXNfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmJvb2wsXG4gICAgbWFpbjogUHJvcFR5cGVzX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5ib29sLFxuICAgIGxlYWRpbmc6IFByb3BUeXBlc19fZGVmYXVsdFtcImRlZmF1bHRcIl0uYm9vbCxcbiAgICBvbkNsaWNrOiBQcm9wVHlwZXNfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICB0cmFpbGluZzogUHJvcFR5cGVzX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5ib29sLFxuICAgIFRhZzogUHJvcFR5cGVzX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5zdHJpbmdcbiAgfTtcblxuICB2YXIgVHJhaWxpbmdBY3Rpb25zID0gZnVuY3Rpb24gVHJhaWxpbmdBY3Rpb25zKF9yZWYpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuXG4gICAgaWYgKGNoaWxkcmVuID09PSBudWxsIHx8IGNoaWxkcmVuID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgcmV0dXJuIFJlYWN0X19kZWZhdWx0W1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KGNoaWxkLCB7XG4gICAgICAgICAgbWFpbjogaW5kZXggPT09IGNoaWxkcmVuLmxlbmd0aCAtIDEsXG4gICAgICAgICAgdHJhaWxpbmc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0W1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHtcbiAgICAgIG1haW46IHRydWUsXG4gICAgICB0cmFpbGluZzogdHJ1ZVxuICAgIH0pO1xuICB9O1xuXG4gIGV4cG9ydHMuTGVhZGluZ0FjdGlvbnMgPSBMZWFkaW5nQWN0aW9ucztcbiAgZXhwb3J0cy5Td2lwZUFjdGlvbiA9IFN3aXBlQWN0aW9uO1xuICBleHBvcnRzLlN3aXBlYWJsZUxpc3QgPSBTd2lwZWFibGVMaXN0O1xuICBleHBvcnRzLlN3aXBlYWJsZUxpc3RJdGVtID0gU3dpcGVhYmxlTGlzdEl0ZW07XG4gIGV4cG9ydHMuVHJhaWxpbmdBY3Rpb25zID0gVHJhaWxpbmdBY3Rpb25zO1xuICBleHBvcnRzLlR5cGUgPSBUeXBlO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-swipeable-list/dist/react-swipeable-list.umd.js\n");

/***/ })

});