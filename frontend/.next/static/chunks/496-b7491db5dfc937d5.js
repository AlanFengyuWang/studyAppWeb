(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[496],{496:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return pe}});var r=n(5893),i=n(7294),o=n(8527),s=n(4189),a=n(5193),l=n(5684),c=n(3299),u=function(){return(0,r.jsxs)(o.kC,{justifyContent:"space-between",margin:"5% 8%",children:[(0,r.jsx)(o.kC,{children:(0,r.jsxs)(o.Kq,{marginLeft:"11%",marginTop:"7%",spacing:0,children:[(0,r.jsx)(o.xv,{fontSize:"3xl",fontWeight:600,children:"Welcome,"})," ",(0,r.jsx)(o.xv,{fontSize:"2xl",color:"#7A7878",fontWeight:500,children:"Alan"})]})}),(0,r.jsx)(o.kC,{children:(0,r.jsxs)(s.v2,{children:[(0,r.jsx)(s.j2,{as:a.zx,variantColor:"pink",bg:"lightgray",borderRadius:"50%",h:"80px",w:"80px",top:"20%",children:(0,r.jsx)(l.qE,{src:"https://bit.ly/broken-link",bg:"#"})}),(0,r.jsxs)(s.qy,{minWidth:"0",position:"relative",left:"15%",children:[(0,r.jsxs)(s.kS,{title:"Profile",children:[(0,r.jsx)(s.sN,{children:"My Account"}),(0,r.jsx)(s.sN,{children:"Payments "})]}),(0,r.jsx)(s.R,{}),(0,r.jsxs)(s.kS,{title:"Help",children:[(0,r.jsx)(s.sN,{children:"Docs"}),(0,r.jsx)(s.sN,{onClick:function(){return(0,c.signOut)()},children:"Log out"})]})]})]})})]})},d=(n(2755),n(5073)),f=n.n(d),h=n(4338),p=n(8140);function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return!t||"object"!==k(t)&&"function"!==typeof t?m(e):t}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}var S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(s,e);var t,n,i,o=w(s);function s(){var e;return x(this,s),y(m(e=o.apply(this,arguments)),"interval",void 0),y(m(e),"state",{isAnimated:!1}),e}return t=s,(n=[{key:"componentDidMount",value:function(){if(this.props.repeat){var e=this;this.interval=window.setInterval((function(){e.setState({isAnimated:!e.state.isAnimated})}),1e3*this.props.duration)}else this.setState({isAnimated:!this.state.isAnimated})}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return(0,r.jsx)(p.r,{start:function(){return{value:e.props.valueStart}},update:function(){return{value:[e.state.isAnimated?e.props.valueEnd:e.props.valueStart],timing:{duration:1e3*e.props.duration,ease:e.props.easingFunction}}},children:function(t){var n=t.value;return e.props.children(n)}})}}])&&j(t.prototype,n),i&&j(t,i),s}(i.Component);y(S,"defaultProps",{valueStart:0});var O=S,C=n(5774);n(5734);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=function(e){var t=e.timeType,n=e.progress,s=E(i.useState("#C53030"),2),a=(s[0],s[1]);return(0,i.useEffect)((function(){a(n<50?"#C53030":n<75?"#D69E2E":"#48BB78")}),[n]),(0,r.jsxs)("div",{className:f().progressCard,children:[(0,r.jsxs)(o.xv,{textAlign:"left",marginLeft:"4%",paddingTop:"3%",color:"#474444",fontWeight:600,children:[t,", I have achieved:"," "]}),(0,r.jsx)(O,{valueStart:0,valueEnd:66,duration:1.4,easingFunction:h.U2,repeat:!0,children:function(e){var t=Math.round(e);return(0,r.jsx)(o.xu,{style:{width:150,height:220,margin:"0 auto",position:"relative",top:"3vw"},children:(0,r.jsx)(C.Ip,{value:e,text:"".concat(t,"%"),styles:(0,C.y3)({pathTransition:"none"})})})}})]})},z=n(615),P=function(e){return(0,r.jsx)("div",{children:(0,r.jsx)(z.lr,{showThumbs:!1,emulateTouch:!0,showArrows:!1,showStatus:!1,useKeyboardArrows:!0,preventMovementUntilSwipeScrollTolerance:!0,swipeScrollTolerance:100,children:e.slides.map((function(e,t){return(0,r.jsx)(A,{timeType:e.timeType,progress:e.progress},t)}))})})},I=function(){return(0,r.jsx)("div",{children:(0,r.jsx)(o.xu,{w:"100%",p:4,color:"white",children:(0,r.jsx)(P,{slides:[{timeType:"Today",progress:10},{timeType:"This week",progress:50},{timeType:"This month",progress:80}]})})})},_=n(6886),D={task:{red:"#F56565",orange:"#ED8936",green:"#48BB78",add:"teal",due:"#E2E8F0"}},N=n(5675),R=n.n(N),B=function(e){var t=e.task,n=D.task.green,i="/taskTypes/"+t.type+".svg";return(0,r.jsxs)(o.xu,{background:n,borderRadius:"10",padding:"7%",paddingLeft:"5",marginBottom:"2%",width:"100%",children:[(0,r.jsxs)(o.kC,{gap:"12%",children:[(0,r.jsx)(o.xu,{borderRadius:"100%",backgroundColor:"#C4C4C4",width:"60px",height:"60px",pos:"relative",bottom:"1",children:(0,r.jsx)(o.xu,{position:"relative",left:"14%",top:"10%",children:(0,r.jsx)(R(),{layout:"fixed",width:"40vw",height:"40vw",src:i,alt:"task image"})})}),(0,r.jsx)(o.xv,{fontWeight:"semibold",children:t.taskTitle})]}),t.due&&(0,r.jsx)(o.xv,{color:D.task.due,fontSize:"xs",float:"right",fontWeight:"semibold",children:(0,r.jsxs)(r.Fragment,{children:["Due: ",t.due]})})]})},M=n(3024),F=n(3530),W=n(5434);function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q={colorScheme:"green",size:"xs",width:"60px",variant:"outline",marginLeft:"40%"},L={backgroundColor:"#E53E3E",borderRadius:"10",marginBottom:"8px",paddingRight:"15px",paddingTop:"35px",color:"#eee"},U=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){X(e,t,n[t])}))}return e}({},L,{width:"24%",left:"100%",height:"93%",opacity:"100%",paddingBottom:"5%"});n(488);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z(e,t,n[t])}))}return e}var K=function(e){var t=function(t){(function(e,t){var n={email:e},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};return fetch("http://localhost:2000/task/delete/"+t,r)})(h,t).then((function(){return e.mutate()}))},n=(0,i.useState)(""),s=n[0],l=n[1],c={transition:"transform 0.3s",transform:"translateX(-23%)",opacity:"100%"},u=(0,i.useState)(!1),d=u[0],f=u[1],h=(0,M.s)().email;return e.error?(0,r.jsxs)(_.bZ,{status:"error",marginTop:"3%",padding:"12px",children:[(0,r.jsx)(_.zM,{}),(0,r.jsx)(o.xv,{fontSize:"sm",children:"Failed to fetch your tasks"})]}):(0,r.jsxs)(o.Kq,{align:"stretch",marginTop:"3",children:[(0,r.jsx)(F.SwipeableList,{children:e.data&&e.data.tasks.filter((function(t,n){return n<(d?e.data.tasks.length:3)})).map((function(e,n){return(0,r.jsx)(F.SwipeableListItem,{trailingActions:(i=e._id,(0,r.jsx)(F.TrailingActions,{children:(0,r.jsx)(F.SwipeAction,{destructive:!0,onClick:function(){return t(i)},children:(0,r.jsx)(o.kC,H({},L,{children:(0,r.jsx)(W.FH3,{color:"#E2E8F0",size:"43px"})}))})})),children:(0,r.jsxs)(o.kC,{width:"100%",position:"relative",children:[(0,r.jsx)(o.xu,H({width:"100%",height:"100%"},e._id===s?c:{},{children:(0,r.jsx)(B,{task:e},n)})),(0,r.jsx)(a.zx,H({},U,{opacity:"0%",left:"80%",position:"absolute",onMouseEnter:function(){l(e._id)},onMouseLeave:function(){l("")}})),(0,r.jsx)(a.zx,H({},U,{position:"absolute",onMouseEnter:function(){l(e._id)},onMouseLeave:function(){l("")},onClick:function(){return t(e._id)}},e._id===s&&{transition:"transform 0.3s",transform:"translateX(-100%)"},{_hover:{transition:"transform 0.3s",transform:"translateX(-100%)"},children:(0,r.jsx)(W.FH3,{color:"#E2E8F0",size:"43px"})}))]})},e._id);var i}))}),e.data&&e.data.tasks.length>3&&(0,r.jsx)(a.zx,{bg:"none",marginTop:"0 !important",_hover:{bg:"none"},_active:{bg:"none"},color:"#2B6CB0",fontWeight:"600",onClick:function(){f(!d)},children:d?"Hide":"Show All"})]})},J=n(7375),V=n(5636),$=n(9762),Q=n(4612),Y=n(3441),G=n(1391),ee=function(e){return(0,r.jsx)(o.xu,{display:"flex",justifyContent:"right",width:"100%",mb:1,children:(0,r.jsx)(a.hE,{spacing:"3",size:"xs",marginTop:"5px",children:(0,r.jsx)(a.zx,{colorScheme:"red",onClick:function(){return e.remove(e.index)},children:"Remove"})})})};function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){te(e,t,n[t])}))}return e}var re=function(e){return(0,r.jsxs)("div",{children:[(0,r.jsxs)($.NI,{isRequired:!0,children:[(0,r.jsxs)($.lX,{marginBottom:0,fontSize:"md",children:["Task ",e.index+1,":"]}),(0,r.jsx)(Q.II,ne({placeholder:"Title",size:"sm",fontSize:"sm"},e.register("subtask.".concat(e.index,".title"),{require:!0})))]}),(0,r.jsxs)($.NI,{mt:2,children:[(0,r.jsx)($.lX,{marginBottom:0,fontSize:"sm",children:"Description:"}),(0,r.jsx)(Y.g,ne({size:"sm",placeholder:"Remind my future self.."},e.register("subtask.".concat(e.index,".description"))))]}),(0,r.jsx)(ee,{index:e.index,remove:e.remove})]})},ie=n(7536),oe=n(945),se=(n(1938),n(5787),n(9194),function(e){return(0,r.jsxs)("div",{children:[(0,r.jsxs)($.NI,{isRequired:!0,children:[(0,r.jsxs)($.lX,{marginBottom:0,fontSize:"md",children:["Milestone ",e.index+1]}),(0,r.jsx)(oe.Z,{onChange:function(t){return e.updateMilestones(t,e.index)},value:e.milestones[e.index]},e.index)]}),(0,r.jsx)(o.xu,{display:"flex",justifyContent:"left",width:"100%",mb:1,children:(0,r.jsx)(a.hE,{spacing:"3",size:"xs",marginTop:"5px",children:(0,r.jsx)(a.zx,{colorScheme:"red",onClick:function(){return e.remove(e.index)},children:"Remove"})})})]})});function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){le(e,t,n[t])}))}return e}function ue(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var de=function(e){var t=(0,J.qY)(),n=t.isOpen,s=t.onOpen,l=t.onClose,c=i.useRef(null),u=(0,i.useState)(),d=u[0],f=u[1],h=(0,i.useState)([]),p=h[0],m=h[1],x=new Date;x.setDate(x.getDate()+99999);var j=(0,M.s)().email,y=(0,ie.cI)({defaultValues:{_id:"UNIQUE COUNT DOCUMENT IDENTIFIER",taskTitle:"",taskDescription:"",type:"Others",due:x,milestones:[],subtask:[]},mode:"onBlur"}),g=y.register,b=y.setValue,v=y.control,k=y.handleSubmit,w=(y.formState.errors,(0,ie.Dq)({name:"subtask",control:v})),S=w.fields,O=w.append,C=w.remove,T=(0,ie.Dq)({name:"milestones",control:v}),E=T.fields,A=T.append,z=T.remove,P=function(e,t){var n=ue(p);n[t]=e,m(n)};return(0,i.useEffect)((function(){b("due",void 0==d?x:d)}),[d]),(0,r.jsxs)(o.M5,{children:[(0,r.jsx)(a.zx,{colorScheme:D.task.add,size:"sm",onClick:s,width:"50%",children:"Add Tasks"}),(0,r.jsx)(V.u_,{initialFocusRef:c,isOpen:n,onClose:l,children:(0,r.jsxs)("form",{onSubmit:k((function(t){var n=t;n.email=j,function(e){var t={taskTitle:e.taskTitle,taskDescription:e.taskDescription,type:e.type,email:e.email,due:e.due,milestones:e.milestones,subtask:e.subtask},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch("http://localhost:2000/task/add/",n)}(n).then((function(){e.mutate()}))})),children:[(0,r.jsx)(V.ZA,{}),(0,r.jsxs)(V.hz,{children:[(0,r.jsx)(V.xB,{children:"What is your next task?"}),(0,r.jsx)(V.ol,{}),(0,r.jsxs)(V.fe,{pb:6,children:[(0,r.jsxs)($.NI,{isRequired:!0,children:[(0,r.jsx)($.lX,{children:"Task name:"}),(0,r.jsx)(Q.II,ce({placeholder:"Task name"},g("taskTitle")))]}),(0,r.jsxs)($.NI,{mt:4,children:[(0,r.jsx)($.lX,{children:"Description:"}),(0,r.jsx)(Y.g,ce({},g("taskDescription"),{placeholder:"My description of the task is.."}))]}),(0,r.jsxs)($.NI,{mt:3,children:[(0,r.jsx)($.lX,{htmlFor:"type",children:"Type:"}),(0,r.jsxs)(G.Ph,ce({id:"type",color:"gray"},g("type"),{children:[(0,r.jsx)("option",{children:"Work"}),(0,r.jsx)("option",{children:"Study"}),(0,r.jsx)("option",{children:"Exercise"}),(0,r.jsx)("option",{children:"Entertainment"}),(0,r.jsx)("option",{children:"Others"})]}))]}),(0,r.jsxs)($.NI,{mt:3,children:[(0,r.jsx)($.lX,{htmlFor:"due",children:"Due:"}),(0,r.jsx)(oe.Z,{onChange:f,value:d})]}),(0,r.jsxs)($.NI,{mt:4,children:[(0,r.jsx)($.lX,{htmlFor:"milestones",children:"Milestones:"}),E.map((function(e,t){return(0,r.jsx)(se,{index:t,isLast:S.length===t+1,register:g,milestones:p,updateMilestones:P,append:A,remove:z},t)})),E.length<3&&(0,r.jsx)(a.zx,ce({},q,{bottom:0!==E.length?"28.5px":"0",onClick:function(){A({milestone:new Date}),m(ue(p).concat([new Date]))},children:"Add"}))]}),(0,r.jsxs)($.NI,{mt:4,children:[(0,r.jsx)($.lX,{marginBottom:0,children:"Subtasks"}),S.map((function(e,t){return(0,r.jsx)(re,{index:t,isLast:S.length===t+1,register:g,append:O,remove:C},t)})),(0,r.jsx)(a.zx,ce({},q,{bottom:0!==S.length?"28.5px":"0",onClick:function(){return O({title:"",description:""})},children:"Add"}))]})]}),(0,r.jsxs)(V.mz,{children:[(0,r.jsx)(a.zx,{colorScheme:"blue",mr:3,onClick:l,type:"submit",children:"Save"}),(0,r.jsx)(a.zx,{onClick:l,children:"Cancel"})]})]})]})})]})},fe=n(8100),he=function(){var e=(0,c.useSession)(),t=e.data;e.status;(0,(0,M.s)().setEmail)(t&&t.user&&t.user.email?t.user.email:"");var n="http://localhost:2000/task/email/"+(0,M.s)().email,i=(0,fe.ZP)(n,(function(e){return fetch(e).then((function(e){return e.json()}))})),s=i.data,a=i.error,l=i.mutate;return(0,r.jsxs)(o.xu,{marginBottom:"30%",children:[(0,r.jsx)(u,{}),(0,r.jsx)(I,{}),(0,r.jsxs)(o.xu,{style:{width:"90%",margin:"0 auto"},children:[(0,r.jsx)(o.xv,{fontSize:"1xl",fontWeight:600,children:"What do I need to do today?"}),(0,r.jsx)(K,{data:s,error:a,mutate:l}),(0,r.jsx)(de,{url:n,mutate:function(){return l()}})]})]})};he.auth=!0;var pe=he},5073:function(e){e.exports={progressCard:"progressCard_progressCard__wzPTr"}}}]);